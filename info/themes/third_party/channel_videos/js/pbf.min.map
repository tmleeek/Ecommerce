{"version":3,"file":"pbf.min.js","sources":["..\\src\\js\\pbf.js"],"names":["global","$","toggleSearchVideos","e","target","closest","find","toggle","disableEnter","which","click","syncOrderNumbers","attr","fieldsElem","each","FieldIndex","VideoField","VideoIndex","VideoItem","this","replace","removeClass","addClass","delVideo","VideoID","data","get","ChannelVideos","ACT_URL","video_id","ajax_method","fadeOut","remove","clearVideoSearch","jQuery","TargetBox","empty","searchForVideos","preventDefault","params","customField","videoServices","fields","services","val","i","length","show","siblings","youtubeSearchVideos","vimeoSearchVideos","addVideoResults","service","items","html","id","img_url","title","vid_url","hide","colorbox","iframe","width","height","submitVideoUrl","videoUrl","prompt","youtubeSubmitUrl","vimeoSubmitUrl","addVideoToTable","video","field_id","field_data","service_video_id","slideUp","video_date","Date","setTime","layout","video_url","video_img_url","video_title","video_author","video_duration","toFixed","video_views","toDateString","field_name","JSON","stringify","append","addVideo","Parent","Params","split","field_layout","youtubeGetVideo","vimeoGetVideo","entry","author","keywords","ajax","crossDomain","dataType","url","q","max-results","limit","success","rdata","Videos","feed","media$group","yt$videoid","$t","push","parts","servicebox","inner","loading","indexOf","parseUrl","getQueryVariable","query","callback","Video","video_desc","media$description","video_username","name","video_author_id","yt$duration","seconds","yt$statistics","viewCount","published","getTime","thumb","urlparams","format","method","user_id","per_page","full_response","vimeoGetTheSignedUrl","param","jsonp","jsonpCallback","cache","stat","videos","on_this_page","ii","thumbnails","thumbnail","_content","description","owner","username","display_name","duration","number_of_plays","upload_date","recvd_resp","oauth","OAuthSimple","oauthObject","sign","path","parameters","signatures","api_key","vimeoConsumerKey","shared_secret","vimeoSharedSecret","signed_url","alert","str","component","key","ini","mode","local_value","parser","php","strict","loose","m","exec","uri","toLowerCase","$0","$1","$2","source","variable","vars","pair","decodeURIComponent","Init","elem","parse","keypress","delegate","sortable","cursor","opacity","handle","update","helper","event","ui","children","forcePlaceholderSize","start","placeholder","consumer_key","_secrets","_default_signature_method","_action","_nonce_chars","setParameters","_parseParameterString","_parameters","_getNonce","_getTimestamp","setSignatureMethod","_getApiKey","_getAccessToken","setQueryString","setURL","select","_path","setPath","setAction","action","toUpperCase","match","setTokensAndSecrets","oauth_token","access_token","oauth_secret","access_secret","args","normParams","_normalizedParameters","sig","_generateSignature","signature","sig_string","_oauthEscape","header","getHeaderString","result","pName","Array","pLength","j","paramString","elements","element","shift","value","keyToken","string","encodeURIComponent","cLength","rnum","Math","floor","random","substring","oauth_consumer_key","d","ts","paramNames","ra","paramName","unshift","sort","pLen","sorted","spLen","join","b64_hmac_sha1","k","_p","_z","_f","t","b","c","_k","_s","x","y","l","_r","n","_c","w","a","o","p","r","s","_b","charCodeAt","_h","h","concat","_n","charAt","_x","secretKey","sigString","window","document","ready"],"mappings":"CAAE,SAASA,EAAQC,GAEf,YA8CA,SAASC,GAAmBC,GAExB,MADAF,GAAEE,EAAEC,QAAQC,QAAQ,YAAYC,KAAK,gBAAgBC,UAC9C,EAKX,QAASC,GAAaL,GAClB,MAAe,KAAXA,EAAEM,OACFR,EAAEE,EAAEC,QAAQC,QAAQ,YAAYC,KAAK,iBAAiBI,SAC/C,GAFX,OAQJ,QAASC,KACL,GAAIC,EAGJC,GAAWC,KAAK,SAASC,EAAYC,GAIjCf,EAAEe,GAAYV,KAAK,WAAWQ,KAAK,SAASG,EAAYC,GAGpDjB,EAAEiB,GAAWZ,KAAK,2BAA2BQ,KAAK,WAC9CF,EAAOX,EAAEkB,MAAMP,KAAK,QAAQQ,QAAQ,oBAAqB,aAAeH,EAAW,GAAK,KACxFhB,EAAEkB,MAAMP,KAAK,OAAQA,OAK7BX,EAAEe,GAAYV,KAAK,WAAWe,YAAY,OAC1CpB,EAAEe,GAAYV,KAAK,eAAegB,SAAS,SAOnD,QAASC,GAASpB,GAEd,GAAIqB,GAAUvB,EAAEE,EAAEC,QAAQqB,KAAK,KAG3BD,IACAvB,EAAEyB,IAAIC,cAAcC,SAAUC,SAAUL,EAASM,YAAa,gBAAiB,cAKnF7B,EAAEE,EAAEC,QAAQC,QAAQ,WAAW0B,QAAQ,OAAQ,WAC3C9B,EAAEkB,MAAMa,SAAUrB,MAO1B,QAASsB,GAAiB9B,GAEJ+B,OAAO/B,EAAEC,QAAQC,QAAQ,WAI3C,OAFA8B,WAAU7B,KAAK,yBAAyB8B,SAEjC,EAKX,QAASC,GAAgBlC,GACrBA,EAAEmC,gBAEF,IACIC,MACAC,EAAcvC,EAAEE,EAAEC,QAAQC,QAAQ,YAClCoC,EAAgBC,EAAO,SAASF,EAAYf,KAAK,aAAakB,QAGlEH,GAAYlC,KAAK,wBAAwBA,KAAK,wCAAwCQ,KAAK,WACvFyB,EAAOtC,EAAEkB,MAAMP,KAAK,QAAUsB,OAAOf,MAAMyB,OAG/C,KAAK,GAAIC,GAAI,EAAGA,EAAIJ,EAAcK,OAAQD,IACtCL,EAAYlC,KAAK,2BAA2BmC,EAAcI,IAAIE,OAAOzC,KAAK,kBAAkByC,OAAOC,SAAS,UAAUZ,QAE9F,WAApBK,EAAcI,GACdI,EAAoBV,EAAQC,GAE5BU,EAAkBX,EAAQC,GAOtC,QAASW,GAAgBC,EAASC,EAAOb,GACrC,GACIc,GAAO,EAEU,KAAjBD,EAAMP,SACNQ,GAAQ,6BAGZ,KAAK,GAAIT,GAAI,EAAGA,EAAIQ,EAAMP,OAAQD,IAC9BS,GAAQ,2BAA2BF,EAAQ,IAAIC,EAAMR,GAAGU,GAAG,SAASH,EAAQ,KAAKC,EAAMR,GAAGU,GAAG,KAC7FD,GAAY,aAAeD,EAAMR,GAAGW,QAAU,iCAC9CF,GAAY,UAAWD,EAAMR,GAAGY,MAAO,WACvCH,GAAY,SACZA,GAAgB,YAAcD,EAAMR,GAAGa,QAAU,4BACjDJ,GAAgB,qCAChBA,GAAY,UACZA,GAAQ,QAGZA,IAAQ,yBAERd,EAAYlC,KAAK,2BAA2B8C,GAAS9C,KAAK,kBAAkBqD,OAAOX,SAAS,UAAUD,OAAOO,KAAKA,GAClHd,EAAYlC,KAAK,+BAA+BsD,UAAUC,QAAO,EAAMC,MAAO,IAAKC,OAAO,MAK9F,QAASC,GAAe7D,GACpB,GAAI8D,GAAWC,OAAO,aAAc,GACpC,IAAiB,OAAbD,EAAmB,OAAO,CAE9B,IAAIzB,GAAcvC,EAAEE,EAAEC,QAAQC,QAAQ,eAClCoC,EAAgBC,EAAO,SAASF,EAAYf,KAAK,aAAakB,QAElEH,GAAYlC,KAAK,gBAAgByC,MAEjC,KAAK,GAAIF,GAAI,EAAGA,EAAIJ,EAAcK,OAAQD,IACtCL,EAAYlC,KAAK,2BAA2BmC,EAAcI,IAAIE,OAAOzC,KAAK,kBAAkByC,OAAOC,SAAS,UAAUZ,QAE9F,WAApBK,EAAcI,GACdsB,EAAiBF,EAAUzB,GAE3B4B,EAAeH,EAAUzB,EAIjC,QAAO,EAKX,QAAS6B,GAAgBC,EAAOC,GAC5B,GAAIC,GAAa9B,EAAO,SAAS6B,GAC7B/B,EAAcvC,EAAE,iBAAiBsE,GACjCjB,EAAO,EAEXd,GAAYlC,KAAK,IAAIgE,EAAMlB,QAAQ,KAAKkB,EAAMG,kBAAkBC,SAEhE,IAAIC,GAAa,GAAIC,KACrBD,GAAWE,QAA2B,IAAjBP,EAAMK,YAEF,SAArBH,EAAWM,QACXxB,GAAQ,sBACRA,GAAY,gBAAgBgB,EAAMS,UAAU,iCAAiCT,EAAMU,cAAc,0CACjG1B,GAAY,OAAOgB,EAAMW,YAAY,QACrC3B,GAAY,OAAOgB,EAAMY,aAAa,QACtC5B,GAAY,QAAQgB,EAAMa,eAAe,IAAIC,QAAQ,GAAG,YACxD9B,GAAY,OAAOgB,EAAMe,YAAY,QACrC/B,GAAY,OAAOqB,EAAWW,eAAe,QAC7ChC,GAAY,OACZA,GAAgB,4DAChBA,GAAgB,0DAA0DgB,EAAMzC,SAAS,eAGrFyB,GADAgB,EAAMzC,SAAW,EACT,gBAAgB2C,EAAWe,WAAW,+CAA+CjB,EAAMzC,SAAS,KAEpG,mBAAmB2C,EAAWe,WAAW,2CAA2CC,KAAKC,UAAUnB,GAAO,cAGtHhB,GAAY,QACZA,GAAQ,UAERA,GAAQ,iCACRA,GAAY,YAAYgB,EAAMS,UAAU,iCAAiCT,EAAMU,cAAc,qCAC7F1B,GAAY,UAAUgB,EAAMW,YAAY,WACxC3B,GAAY,SACZA,GAAgB,4DAChBA,GAAgB,0DAA0DgB,EAAMzC,SAAS,eAGrFyB,GADAgB,EAAMzC,SAAW,EACT,gBAAgB2C,EAAWe,WAAW,+CAA+CjB,EAAMzC,SAAS,KAEpG,mBAAmB2C,EAAWe,WAAW,2CAA2CC,KAAKC,UAAUnB,GAAO,cAEtHhB,GAAY,UACZA,GAAQ,UAGZd,EAAYlC,KAAK,6BAA6BqD,OAC9CnB,EAAYlC,KAAK,mBAAmBoF,OAAOpC,GAC3C3C,IACA6B,EAAYlC,KAAK,sCAAsCsD,UAAUC,QAAO,EAAMC,MAAO,IAAKC,OAAO,MAKrG,QAAS4B,GAASxF,GACd,GAAIyF,GAAS1D,OAAO/B,EAAEC,QAAQC,QAAQ,aAClCmC,EAAcN,OAAO/B,EAAEC,QAAQC,QAAQ,eACvCkE,EAAW/B,EAAYf,KAAK,WAEhCS,QAAO/B,EAAEC,QAAQkB,SAAS,UAE1B,IAAIuE,KAQJ,OAPAA,GAAO/D,YAAc,YACrB+D,EAAOzC,QAAUwC,EAAOhF,KAAK,OAAOkF,MAAM,KAAK,GAC/CD,EAAOhE,SAAW+D,EAAOhF,KAAK,OAAOkF,MAAM,KAAK,GAChDD,EAAOtB,SAAWA,EAClBsB,EAAON,WAAa7C,EAAO,SAAS6B,GAAUgB,WAC9CM,EAAOE,aAAerD,EAAO,SAAS6B,GAAUO,OAE1B,WAAlBe,EAAOzC,SACP4C,EAAgBH,EAAOhE,SAAU0C,EAAUF,IAEpC,IAEP4B,EAAcJ,EAAOhE,SAAU0C,EAAUF,IAGtC,GAKX,QAASpB,GAAoBV,EAAQC,GACjC,GAAO0D,GAAOrE,CAEVU,GAAO4D,SAAQ5D,EAAO6D,UAAY,IAAK7D,EAAO4D,QAElDlG,EAAEoG,MACEC,aAAa,EACbC,SAAU,OACVC,IAAK,sEACL/E,MAAOgF,EAAElE,EAAO6D,SAAUM,cAAcnE,EAAOoE,OAC/CC,QAAS,SAASC,GACd,GAAIC,KAEsB,oBAAfD,GAAME,MACb5D,EAAgB,UAAW2D,EAAQtE,GAGP,mBAArBqE,GAAME,KAAKb,OAClB/C,EAAgB,UAAW2D,EAAQtE,EAGvC,KAAK,GAAIK,GAAI,EAAGA,EAAIgE,EAAME,KAAKb,MAAMpD,OAAQD,IACzCqD,EAAQW,EAAME,KAAKb,MAAMrD,GACzBhB,EAAWqE,EAAMc,YAAYC,WAAWC,GAExCJ,EAAOK,MACH5D,GAAI1B,EACJ4B,MAAOyC,EAAMzC,MAAMyD,GACnB1D,QAAS,0BAA4B3B,EAAW,eAChD6B,QAAS,iCAAiC7B,GAKlDsB,GAAgB,UAAW2D,EAAQtE,MAO/C,QAAS2B,GAAiBqC,EAAKhE,GAC3B,GAII4E,GAJAC,EAAa7E,EAAYlC,KAAK,mCAAmCyC,OACjEuE,EAAQD,EAAW/G,KAAK,UACxBiH,EAAUF,EAAW/G,KAAK,kBAC1BiD,EAAK,IAGT,OAA+B,KAA3BiD,EAAIgB,QAAQ,YAAiD,KAA5BhB,EAAIgB,QAAQ,aAC7CD,EAAQ5D,WACR2D,GAAMhE,KAAK,oCAKXkD,EAAIgB,QAAQ,qBAAuB,GACnCJ,EAAQK,EAASjB,GACjBjD,EAAKmE,EAAiBN,EAAMO,MAAO,MAI9BnB,EAAIgB,QAAQ,YAAc,GAC/BJ,EAAQZ,EAAIV,MAAM,KAClBvC,EAAK6D,EAAOA,EAAMtE,OAAO,IAIpB0D,EAAIgB,QAAQ,qBAAuB,IACxCJ,EAAQZ,EAAIV,MAAM,KAClBvC,EAAK6D,EAAOA,EAAMtE,OAAO,IAGlB,OAAPS,GACAgE,EAAQ5D,WACR2D,GAAMhE,KAAK,wDAIfrD,GAAEoG,MACEC,aAAa,EACbC,SAAU,OACVC,IAAK,8CAA8CjD,EAAG,2BACtDqD,QAAS,SAASC,GACd,GAAIhF,EACJ0F,GAAQ5D,OAEmB,mBAAhBkD,GAAMX,OACboB,EAAMhE,KAAK,6CAA6CC,EAAG,SAG/D1B,EAAWgF,EAAMX,MAAMc,YAAYC,WAAWC,GAE9C/D,EAAgB,YACZI,GAAI1B,EACJ4B,MAAOoD,EAAMX,MAAMzC,MAAMyD,GACzB1D,QAAS,0BAA4B3B,EAAW,eAChD6B,QAAS,iCAAiC7B,IAC1CW,OAOhB,QAASwD,GAAgBzC,EAAIgB,EAAUqD,GACnC3H,EAAEoG,MACEC,aAAa,EACbC,SAAU,OACVC,IAAK,8CAA8CjD,EAAG,2BACtDqD,QAAS,SAASC,GAEd,GAAIhF,GAAWgF,EAAMX,MAAMc,YAAYC,WAAWC,GAC9CW,IACJA,GAAMzE,QAAU,UAChByE,EAAMpD,iBAAmB5C,EACzBgG,EAAMhG,SAAW,EACjBgG,EAAM9C,UAAY,gCAAkClD,EACpDgG,EAAM7C,cAAgB,yBAA2BnD,EAAW,eAC5DgG,EAAM5C,YAAc4B,EAAMX,MAAMzC,MAAMyD,GACtCW,EAAMC,WAAajB,EAAMX,MAAMc,YAAYe,kBAAkBb,GAC7DW,EAAMG,eAAiBnB,EAAMX,MAAMC,OAAO,GAAG8B,KAAKf,GAClDW,EAAM3C,aAAe2B,EAAMX,MAAMC,OAAO,GAAG8B,KAAKf,GAChDW,EAAMK,gBAAkB,EACxBL,EAAM1C,eAAiB0B,EAAMX,MAAMc,YAAYmB,YAAYC,QAE3DP,EAAMxC,YAAc,EAGM,mBAAfwB,GAAMX,OAC0B,mBAA7BW,GAAMX,MAAMmC,eAC2B,mBAAvCxB,GAAMX,MAAMmC,cAAcC,YACpCT,EAAMxC,YAAcwB,EAAMX,MAAMmC,cAAcC,WAGxB,mBAAfzB,GAAMX,QACb2B,EAAMlD,WAAc,GAAIC,MAAKiC,EAAMX,MAAMqC,UAAUrB,IAAIsB,UAAU,KAGrEZ,EAASC,EAAOtD,MAO5B,QAASrB,GAAkBX,EAAQC,GAC/B,GAAO0D,GAAO1C,EAASiF,EAEnBpB,EAAa7E,EAAYlC,KAAK,iCAAiCyC,OAC/DuE,EAAQD,EAAW/G,KAAK,UACxBiH,EAAUF,EAAW/G,KAAK,kBAE1BoI,IACJA,GAAUC,OAAS,QACnBD,EAAUE,OAAS,sBACnBF,EAAUf,MAAQpF,EAAO6D,SACrB7D,EAAO4D,SAAQuC,EAAUG,QAAUtG,EAAO4D,QAC9CuC,EAAUI,SAAWvG,EAAOoE,MAC5B+B,EAAUK,cAAgB,GAC1B,IAAIvC,GAAMwC,EAAqB/I,EAAEgJ,MAAMP,GAGvCzI,GAAEoG,MACEC,aAAa,EACbC,SAAU,QACVC,IAAKA,EACL0C,OAAO,EAAOC,cAAe,gBAC7BC,OAAO,EACPxC,QAAS,SAASC,GACd,GAAkB,MAAdA,EAAMwC,KAGN,MAFA9B,GAAQ5D,WACR2D,GAAMhE,KAAK,mCAIf,IAAkC,IAA9BuD,EAAMyC,OAAOC,aAGb,MAFAhC,GAAQ5D,WACR2D,GAAMhE,KAAK,4BAMf,KAAK,GAFDwD,MAEKjE,EAAI,EAAGA,EAAIgE,EAAMyC,OAAOhF,MAAMxB,OAAQD,IAAK,CAChDqD,EAAQW,EAAMyC,OAAOhF,MAAMzB,EAE3B,KAAK,GAAI2G,GAAKtD,EAAMuD,WAAWC,UAAU5G,OAAS,EAAG0G,GAAM,EAAGA,IAC1Df,EAAQvC,EAAMuD,WAAWC,UAAUF,IAChB,OAAff,EAAM3E,OAAkC,OAAhB2E,EAAM1E,UAC9BP,EAAUiF,EAAMkB,SAIxB7C,GAAOK,MACH5D,GAAI2C,EAAM3C,GACVE,MAAOyC,EAAMzC,MACbD,QAASA,EACTE,QAAS,iCAAmCwC,EAAM3C,GAAK,iCAK/DJ,EAAgB,QAAS2D,EAAQtE,MAQ7C,QAAS4B,GAAeoC,EAAKhE,GACzB,GAII4E,GAAOlB,EAAOuC,EAAOjF,EAJrB6D,EAAa7E,EAAYlC,KAAK,iCAAiCyC,OAC/DuE,EAAQD,EAAW/G,KAAK,UACxBiH,EAAUF,EAAW/G,KAAK,kBAC1BiD,EAAK,IAGT,IAA6B,KAAzBiD,EAAIgB,QAAQ,SAGZ,MAFAD,GAAQ5D,WACR2D,GAAMhE,KAAK,+BAUf,IALIkD,EAAIgB,QAAQ,cAAgB,IAC5BJ,EAAQZ,EAAIV,MAAM,KAClBvC,EAAK6D,EAAOA,EAAMtE,OAAO,IAGlB,OAAPS,EAGA,MAFAgE,GAAQ5D,WACR2D,GAAMhE,KAAK,gDAIf,IAAIoF,KACJA,GAAUC,OAAS,QACnBD,EAAUE,OAAS,uBACnBF,EAAU7G,SAAW0B,EACrBmF,EAAUK,cAAgB,IAE1BvC,EAAMwC,EAAqB/I,EAAEgJ,MAAMP,IAGnCzI,EAAEoG,MACEC,aAAa,EACbC,SAAU,QACVC,IAAKA,EACL0C,OAAO,EAAOC,cAAe,gBAC7BC,OAAO,EACPxC,QAAS,SAASC,GACd,GAAkB,MAAdA,EAAMwC,KAGN,MAFA9B,GAAQ5D,WACR2D,GAAMhE,KAAK,mCAIf,IAA2B,IAAvBuD,EAAMvC,MAAMxB,OAGZ,MAFAyE,GAAQ5D,WACR2D,GAAMhE,KAAK,4BAMf,KAAK,GAFDwD,MAEKjE,EAAI,EAAGA,EAAIgE,EAAMvC,MAAMxB,OAAQD,IAAK,CACzCqD,EAAQW,EAAMvC,MAAMzB,EAEpB,KAAK,GAAI2G,GAAKtD,EAAMuD,WAAWC,UAAU5G,OAAS,EAAG0G,GAAM,EAAGA,IAC1Df,EAAQvC,EAAMuD,WAAWC,UAAUF,IAChB,OAAff,EAAM3E,OAAkC,OAAhB2E,EAAM1E,UAC9BP,EAAUiF,EAAMkB,SAIxB7C,GAAOK,MACH5D,GAAI2C,EAAM3C,GACVE,MAAOyC,EAAMzC,MACbD,QAASA,EACTE,QAAS,iCAAmCwC,EAAM3C,GAAK,iCAK/DJ,EAAgB,QAAS2D,EAAQtE,MAS7C,QAASyD,GAAc1C,EAAIgB,EAAUqD,GACjC,GAAI1B,GAAOuC,EAAOjF,EAEdkF,IACJA,GAAUC,OAAS,QACnBD,EAAUE,OAAS,uBACnBF,EAAU7G,SAAW0B,EACrBmF,EAAUK,cAAgB,GAC1B,IAAIvC,GAAMwC,EAAqB/I,EAAEgJ,MAAMP,GAGvCzI,GAAEoG,MACEC,aAAa,EACbC,SAAU,QACVC,IAAKA,EACL0C,OAAO,EAAOC,cAAe,gBAC7BC,OAAO,EACPxC,QAAS,SAASC,GACd,GAAkB,MAAdA,EAAMwC,KAGN,MAFA9B,SAAQ5D,WACR2D,OAAMhE,KAAK,mCAIf4C,GAAQW,EAAMvC,MAAM,EAEpB,KAAK,GAAIkF,GAAKtD,EAAMuD,WAAWC,UAAU5G,OAAS,EAAG0G,GAAM,EAAGA,IAC1Df,EAAQvC,EAAMuD,WAAWC,UAAUF,IAChB,OAAff,EAAM3E,OAAkC,OAAhB2E,EAAM1E,UAC9BP,EAAUiF,EAAMkB,SAIxB,IAAI9B,KACJA,GAAMzE,QAAU,QAChByE,EAAMpD,iBAAmByB,EAAM3C,GAC/BsE,EAAMhG,SAAW,EACjBgG,EAAM9C,UAAY,iCAAmCmB,EAAM3C,GAAK,+BAChEsE,EAAM7C,cAAgBxB,EACtBqE,EAAM5C,YAAciB,EAAMzC,MAC1BoE,EAAMC,WAAa5B,EAAM0D,YACzB/B,EAAMG,eAAiB9B,EAAM2D,MAAMC,SACnCjC,EAAM3C,aAAegB,EAAM2D,MAAME,aACjClC,EAAMK,gBAAkBhC,EAAM2D,MAAMtG,GACpCsE,EAAM1C,eAAiBe,EAAM8D,SAC7BnC,EAAMxC,YAAca,EAAM+D,gBAC1BpC,EAAMlD,WAAc,GAAIC,MAAKsB,EAAMgE,YAAY9I,QAAQ,IAAK,KAAK,UAAUoH,UAAU,IAErFZ,EAASC,EAAOtD,MAS5B,QAASyE,GAAqBzG,GAC1B,GAAI4H,GAAa,UACbC,EAAQ,GAAIzI,eAAc0I,WAE9B,KACI,GAAIC,GAAcF,EAAMG,MACpBC,KAAM,gCACNC,WAAYlI,EACZmI,YACIC,QAASC,EACTC,cAAeC,IAGvBX,GAAaG,EAAYS,WAE7B,MAAO5K,GACH6K,MAAM7K,GAGV,MAAOgK,GAKX,QAAS1C,GAASwD,EAAKC,GAenB,IAdA,GAAIC,IAAO,SAAU,SAAU,YAAa,WAAY,OAAQ,OAAQ,OAAQ,OACxE,WAAY,OAAQ,YAAa,OAAQ,QAAS,YAC1DC,KACAC,EAAQD,EAAI,yBACVA,EAAI,wBAAwBE,aAAgB,MAC9CC,GACEC,IAAK,0JACLC,OAAQ,sIACRC,MAAO,mMAGLC,EAAIJ,EAAOF,GAAMO,KAAKX,GAC1BY,KACAhJ,EAAI,GACGA,KACH8I,EAAE9I,KACJgJ,EAAIV,EAAItI,IAAM8I,EAAE9I,GAIlB,IAAIqI,EACJ,MAAOW,GAAIX,EAAU9J,QAAQ,WAAY,IAAI0K,cAE7C,IAAa,QAATT,EAAgB,CACpB,GAAIpD,GAAQmD,EAAI,6BACZA,EAAI,4BAA4BE,aAAgB,UACpDC,GAAS,4BACTM,EAAI5D,MACJ4D,EAAIV,EAAI,KAAK/J,QAAQmK,EAAQ,SAAUQ,EAAIC,EAAIC,GACzCD,IAAKH,EAAI5D,GAAM+D,GAAMC,KAI3B,aADOJ,GAAIK,OACJL,EAKX,QAASnE,GAAiBlB,EAAK2F,GAG3B,IAAK,GAFDxE,GAAQnB,EACR4F,EAAOzE,EAAM7B,MAAM,KACdjD,EAAI,EAAGA,EAAIuJ,EAAKtJ,OAAQD,IAAK,CAClC,GAAIwJ,GAAOD,EAAKvJ,GAAGiD,MAAM,IACzB,IAAIwG,mBAAmBD,EAAK,KAAOF,EAC/B,MAAOG,oBAAmBD,EAAK,IAGvC,MAAO,MA1rBX,GAEIxL,GAFAc,cAAgB3B,EAAO2B,cAAgB3B,EAAO2B,kBAG9Ce,IAIJf,eAAc4K,KAAO,WACjB1L,EAAaZ,EAAE,YAEfY,EAAWC,KAAK,SAAS+B,EAAG2J,GACxBA,EAAOvM,EAAEuM,GACT9J,EAAO,SAAS8J,EAAK/K,KAAK,aAAe+D,KAAKiH,MAAMD,EAAKlM,KAAK,aAAagD,UAG/EzC,EAAWP,KAAK,iBAAiBI,MAAMR,GACvCW,EAAWP,KAAK,kCAAkCoM,SAASlM,GAC3DK,EAAWP,KAAK,sBAAsBI,MAAM2B,GAC5CxB,EAAWP,KAAK,mBAAmBI,MAAMsD,GAEzCnD,EAAW8L,SAAS,6BAA8B,QAAShH,GAC3D9E,EAAW8L,SAAS,YAAa,QAASpL,GAC1CV,EAAW8L,SAAS,oBAAqB,QAAS1K,GAElDpB,EAAWP,KAAK,mBAAmBsM,UAC/BC,OAAQ,OAAQC,QAAS,GAAKC,OAAQ,aAAcC,OAAOrM,EAC3DsM,OAAQ,SAASC,EAAOC,GAIpB,MAHAA,GAAGC,WAAWtM,KAAK,WACfb,EAAEkB,MAAM2C,MAAM7D,EAAEkB,MAAM2C,WAEnBqJ,GAEXE,sBAAsB,EACtBC,MAAO,SAASJ,EAAOC,GACnBA,EAAGI,YAAYjK,KAAK,2BAExBiK,YAAa,mCAGjB1M,EAAWP,KAAK,sCAAsCsD,UAAUC,QAAO,EAAMC,MAAO,IAAKC,OAAO,MA2pBpG,IAAI6G,GAAmB,2CACnBE,EAAoB,0CAExBnJ,eAAc0I,YAAc,SAAUmD,EAAc3C,GA6ThD,MA5TA1J,MAAKsM,YAIe,MAAhBD,IACArM,KAAKsM,SAAuB,aAAID,GACf,MAAjB3C,IACA1J,KAAKsM,SAAwB,cAAI5C,GACrC1J,KAAKuM,0BAA4B,YACjCvM,KAAKwM,QAAU,MACfxM,KAAKyM,aAAe,iEAOpBzM,KAAK0M,cAAgB,SAAUpD,GAiB3B,MAhBkB,OAAdA,IACAA,MACuB,gBAAhB,KACPA,EAAatJ,KAAK2M,sBAAsBrD,IAC5CtJ,KAAK4M,YAActD,EACoB,MAAnCtJ,KAAK4M,YAAyB,aAC9B5M,KAAK6M,YACkC,MAAvC7M,KAAK4M,YAA6B,iBAClC5M,KAAK8M,gBAC+B,MAApC9M,KAAK4M,YAA0B,cAC/B5M,KAAK+M,qBACqC,MAA1C/M,KAAK4M,YAAgC,oBACrC5M,KAAKgN,aAC8B,MAAnChN,KAAK4M,YAAyB,aAC9B5M,KAAKiN,kBAEFjN,MAOXA,KAAKkN,eAAiB,SAAU5D,GAC5B,MAAOtJ,MAAK0M,cAAcpD,IAO9BtJ,KAAKmN,OAAS,SAAU9D,GACpB,GAAY,IAARA,EACA,KAAM,0CACV,IAAyB,IAArBA,EAAKhD,QAAQ,KAEb,KADAvH,GAAE,SAASsO,SACL,oCAGV,OADApN,MAAKqN,MAAQhE,EACNrJ,MAOXA,KAAKsN,QAAU,SAAUjE,GACrB,MAAOrJ,MAAKmN,OAAO9D,IAOvBrJ,KAAKuN,UAAY,SAAUC,GAIvB,GAHc,MAAVA,IACAA,EAAS,OACbA,EAASA,EAAOC,cACZD,EAAOE,MAAM,UACb,KAAM,oDAEV,OADA1N,MAAKwM,QAAUgB,EACRxN,MAOXA,KAAK2N,oBAAsB,SAAUpE,GACjC,GAAIA,EACA,IAAK,GAAI7H,KAAK6H,GACVvJ,KAAKsM,SAAS5K,GAAK6H,EAAW7H,EAStC,IAPI1B,KAAKsM,SAAkB,UACvBtM,KAAKsM,SAASD,aAAerM,KAAKsM,SAAS9C,SAC3CxJ,KAAKsM,SAAuB,eAC5BtM,KAAKsM,SAASsB,YAAc5N,KAAKsM,SAASuB,cAC1C7N,KAAKsM,SAAwB,gBAC7BtM,KAAKsM,SAASwB,aAAe9N,KAAKsM,SAASyB,eAEb,MAA9B/N,KAAKsM,SAASD,aACd,KAAM,kEACV,IAAmC,MAA/BrM,KAAKsM,SAAS5C,cACd,KAAM,mEACV,IAAkC,MAA7B1J,KAAKsM,SAASsB,aAAuD,MAA9B5N,KAAKsM,SAASwB,aACtD,KAAM,kFACV,OAAO9N,OAOXA,KAAK+M,mBAAqB,SAAUtF,GAIhC,GAHc,MAAVA,IACAA,EAASzH,KAAKuM,2BAEyC,MAAvD9E,EAAOgG,cAAcC,MAAM,yBAC3B,KAAM,qEAEV,OADA1N,MAAK4M,YAAoC,uBAAInF,EAAOgG,cAC7CzN,MAYXA,KAAKoJ,KAAO,SAAU4E,GACN,MAARA,IACAA,MAEkB,MAAlBA,EAAa,QACbhO,KAAKuN,UAAUS,EAAa,QACZ,MAAhBA,EAAW,MACXhO,KAAKsN,QAAQU,EAAW,MACN,MAAlBA,EAAa,QACbhO,KAAK+M,mBAAmBiB,EAAa,QACzChO,KAAK2N,oBAAoBK,EAAiB,YAChB,MAAtBA,EAAiB,YACjBhO,KAAK0M,cAAcsB,EAAiB,WAExC,IAAIC,GAAajO,KAAKkO,wBAClBC,EAAMnO,KAAKoO,mBAAmBH,EAElC,OADAjO,MAAK4M,YAA6B,gBAAIuB,EAAIE,WAEtC/E,WAAYtJ,KAAK4M,YACjB0B,WAAYH,EAAIG,WAChBD,UAAWrO,KAAKuO,aAAavO,KAAK4M,YAA6B,iBAC/DhD,WAAY5J,KAAKqN,MAAQ,IAAMrN,KAAKkO,wBACpCM,OAAQxO,KAAKyO,oBAYrBzO,KAAKyO,gBAAkB,SAAUT,GACc,MAAvChO,KAAK4M,YAA6B,iBAClC5M,KAAKoJ,KAAK4E,EAEd,IAAIU,GAAS,QACb,KAAK,GAAIC,KAAS3O,MAAK4M,YACnB,GAA6B,MAAzB+B,EAAMjB,MAAM,UAEhB,GAAK1N,KAAK4M,YAAY+B,YAAmBC,OAErC,IAAK,GADDC,GAAU7O,KAAK4M,YAAY+B,GAAOhN,OAC7BmN,EAAI,EAAOD,EAAJC,EAAaA,IACzBJ,GAAUC,EAAQ,KAAO3O,KAAKuO,aAAavO,KAAK4M,YAAY+B,GAAOG,IAAM,SAI7EJ,IAAUC,EAAQ,KAAO3O,KAAKuO,aAAavO,KAAK4M,YAAY+B,IAAU,IAG9E,OAAOD,IAQX1O,KAAK2M,sBAAwB,SAAUoC,GAGnC,IAAK,GAFDC,GAAWD,EAAYpK,MAAM,KAC7B+J,KACKO,EAAUD,EAASE,QAASD,EAASA,EAAUD,EAASE,QAAS,CACtE,GACIC,GADAC,EAAWH,EAAQtK,MAAM,IAEzByK,GAAS,KACTD,EAAQhE,mBAAmBiE,EAAS,KACpCV,EAAOU,EAAS,IACVV,EAAOU,EAAS,aAAeR,OAIjCF,EAAOU,EAAS,IAAIpJ,KAAKmJ,GAHzBT,EAAOU,EAAS,IAAMR,MAAMF,EAAOU,EAAS,IAAKD,GAOrDT,EAAOU,EAAS,IAAMD,EAG9B,MAAOT,IAGX1O,KAAKuO,aAAe,SAAUc,GAC1B,GAAc,MAAVA,EACA,MAAO,EACX,IAAIA,YAAkBT,OAClB,KAAM,8BAEV,OAAOU,oBAAmBD,GAAQpP,QAAQ,MAAO,OACjDA,QAAQ,MAAO,OACfA,QAAQ,KAAM,OACdA,QAAQ,MAAO,OACfA,QAAQ,MAAO,QAGnBD,KAAK6M,UAAY,SAAUlL,GACT,MAAVA,IACAA,EAAS,EAGb,KAAK,GAFD+M,GAAS,GACTa,EAAUvP,KAAKyM,aAAa9K,OACvBD,EAAI,EAAOC,EAAJD,EAAYA,IAAK,CAC7B,GAAI8N,GAAOC,KAAKC,MAAMD,KAAKE,SAAWJ,EACtCb,IAAU1O,KAAKyM,aAAamD,UAAUJ,EAAMA,EAAO,GAGvD,MADAxP,MAAK4M,YAAyB,YAAI8B,EAC3BA,GAGX1O,KAAKgN,WAAa,WACd,GAAkC,MAA9BhN,KAAKsM,SAASD,aACd,KAAM,sCAEV,OADArM,MAAK4M,YAAgC,mBAAI5M,KAAKsM,SAASD,aAChDrM,KAAK4M,YAAYiD,oBAG5B7P,KAAKiN,gBAAkB,WACnB,GAAqC,MAAjCjN,KAAKsM,SAAuB,aAC5B,MAAO,EACX,IAAoC,MAAhCtM,KAAKsM,SAAsB,YAC3B,KAAM,oDAEV,OADAtM,MAAK4M,YAAyB,YAAI5M,KAAKsM,SAASsB,YACzC5N,KAAK4M,YAAYgB,aAG5B5N,KAAK8M,cAAgB,WACjB,GAAIgD,GAAI,GAAIrM,MACRsM,EAAKN,KAAKC,MAAMI,EAAEzI,UAAY,IAElC,OADArH,MAAK4M,YAA6B,gBAAImD,EAC/BA,GAGX/P,KAAKkO,sBAAwB,WACzB,GAAIc,GAAW,GAAIJ,OACfoB,KACAC,EAAK,CAET,KAAK,GAAIC,KAAalQ,MAAK4M,YAAa,CACpC,GAAIqD,IAAO,IACP,KAAM,WACVD,GAAWG,QAAQD,GAEvBF,EAAaA,EAAWI,MAExB,KAAK,GADDC,GAAOL,EAAWrO,OACbD,EAAI,EAAO2O,EAAJ3O,EAAUA,IAGtB,GAFAwO,EAAYF,EAAWtO,IAEnBwO,EAAUxC,MAAM,cAEpB,GAAI1N,KAAK4M,YAAYsD,YAAsBtB,OAGvC,IAAK,GAFD0B,GAAStQ,KAAK4M,YAAYsD,GAAWE,OACrCG,EAAQD,EAAO3O,OACVmN,EAAI,EAAOyB,EAAJzB,EAAWA,IAAK,CAC5B,GAAImB,IAAO,IACP,KAAM,WACVjB,GAAShJ,KAAKhG,KAAKuO,aAAa2B,GAAa,IACnClQ,KAAKuO,aAAa+B,EAAOxB,SAI3CE,GAAShJ,KAAKhG,KAAKuO,aAAa2B,GAAa,IAC/BlQ,KAAKuO,aAAavO,KAAK4M,YAAYsD,IAErD,OAAOlB,GAASwB,KAAK,MAGzBxQ,KAAKyQ,cAAgB,SAAUC,EAAGZ,EAAGa,EAAIC,GAGO,QAASC,GAAGC,EAAGC,EAAGC,EAAGlB,GAAK,MAAQ,IAAJgB,EAAkBC,EAAIC,GAAQD,EAAKjB,EAAc,GAAJgB,EAAiBC,EAAIC,EAAIlB,EAAa,GAAJgB,EAAkBC,EAAIC,EAAMD,EAAIjB,EAAMkB,EAAIlB,EAAaiB,EAAIC,EAAIlB,EAAK,QAASmB,GAAGH,GAAK,MAAY,IAAJA,EAAU,WAAkB,GAAJA,EAAU,WAAkB,GAAJA,EAAU,YAAc,WAAc,QAASI,GAAGC,EAAGC,GAAK,GAAIC,IAAS,MAAJF,IAAmB,MAAJC,GAAa5G,GAAK2G,GAAK,KAAOC,GAAK,KAAOC,GAAK,GAAK,OAAQ7G,IAAK,GAAW,MAAJ6G,EAAe,QAASC,GAAGC,EAAGP,GAAK,MAAQO,IAAKP,EAAMO,IAAO,GAAKP,EAAO,QAASQ,GAAGL,EAAGE,GAAKF,EAAEE,GAAK,IAAM,KAAS,GAAKA,EAAI,GAAKF,GAAIE,EAAI,IAAM,GAAM,GAAK,IAAMA,CAAkG,KAAK,GAAhGI,IAAK,IAAKC,EAAI,WAAYX,EAAI,WAAYC,EAAI,YAAalB,EAAI,UAAW9Q,EAAI,YAAsB0C,EAAI,EAAGA,EAAIyP,EAAExP,OAAQD,GAAK,GAAI,CAAyC,IAAK,GAAxCiQ,GAAID,EAAGE,EAAIb,EAAGzL,EAAI0L,EAAGa,EAAI/B,EAAGgC,EAAI9S,EAAY8P,EAAI,EAAO,GAAJA,EAAQA,IAAK,CAAgB2C,EAAE3C,GAAR,GAAJA,EAAiBqC,EAAEzP,EAAIoN,GAAoBwC,EAAGG,EAAE3C,EAAI,GAAK2C,EAAE3C,EAAI,GAAK2C,EAAE3C,EAAI,IAAM2C,EAAE3C,EAAI,IAAK,EAAM,IAAIgC,GAAII,EAAGA,EAAGI,EAAGI,EAAG,GAAIb,EAAG/B,EAAGiC,EAAGC,EAAGlB,IAAKoB,EAAGA,EAAGlS,EAAGyS,EAAE3C,IAAKmC,EAAGnC,IAAM9P,GAAI8Q,EAAGA,EAAIkB,EAAGA,EAAIM,EAAGP,EAAG,IAAKA,EAAIW,EAAGA,EAAIZ,EAAKY,EAAIR,EAAGQ,EAAGC,GAAIZ,EAAIG,EAAGH,EAAGa,GAAIZ,EAAIE,EAAGF,EAAG1L,GAAIwK,EAAIoB,EAAGpB,EAAG+B,GAAI7S,EAAIkS,EAAGlS,EAAG8S,GAAM,OAAQJ,EAAGX,EAAGC,EAAGlB,EAAG9Q,GAAM,QAAS+S,GAAGD,GAAoC,IAAK,GAAhCf,MAAQvG,GAAK,GAAKoG,GAAM,EAAYlP,EAAI,EAAGA,EAAIoQ,EAAEnQ,OAASiP,EAAIlP,GAAKkP,EAAMG,EAAErP,GAAK,KAAOoQ,EAAEE,WAAWtQ,EAAI,GAAK8I,IAAO,GAAKoG,EAAKlP,EAAI,EAAO,OAAOqP,GAAK,QAASkB,GAAGvB,EAAGZ,GAAK,GAAIiB,GAAIgB,EAAGrB,EAAQK,GAAEpP,OAAS,KAAMoP,EAAIS,EAAGT,EAAGL,EAAE/O,OAASiP,GAA+B,KAAK,GAAzBgB,IAAK,IAAKD,GAAK,IAAcjQ,EAAI,EAAO,GAAJA,EAAQA,IAAOkQ,EAAElQ,GAAY,UAAPqP,EAAErP,GAAiBiQ,EAAEjQ,GAAY,WAAPqP,EAAErP,EAAmB,IAAIwQ,GAAIV,EAAGI,EAAEO,OAAOJ,EAAGjC,IAAK,IAAMA,EAAEnO,OAASiP,EAAK,OAAOY,GAAGG,EAAEQ,OAAOD,GAAI,KAAc,QAASE,GAAGrB,GAAyF,IAAK,GAArFD,GAAI,mEAAoEgB,EAAI,GAAapQ,EAAI,EAAGA,EAAe,EAAXqP,EAAEpP,OAAYD,GAAK,EAA6K,IAAK,GAAzKmQ,IAAOd,EAAErP,GAAK,IAAM,GAAK,EAAIA,EAAI,GAAM,MAAS,IAASqP,EAAErP,EAAI,GAAK,IAAM,GAAK,GAAKA,EAAI,GAAK,GAAM,MAAS,EAAOqP,EAAErP,EAAI,GAAK,IAAM,GAAK,GAAKA,EAAI,GAAK,GAAM,IAAgBoN,EAAI,EAAO,EAAJA,EAAOA,IAA4CgD,GAA7B,EAAJpQ,EAAY,EAAJoN,EAAmB,GAAXiC,EAAEpP,OAAoBgP,EAAkBG,EAAEuB,OAAQR,GAAK,GAAK,EAAI/C,GAAM,GAAa,OAAOgD,GAAK,QAASQ,GAAG5B,EAAGZ,GAAK,MAAOsC,GAAGH,EAAGvB,EAAGZ,IAAO,MAAzhEa,KAAMA,EAAK,KAAYC,IAAMA,EAAK,GAA8/D0B,EAAG5B,EAAGZ,IAG/iE9P,KAAKoO,mBAAqB,WAEtB,GAAImE,GAAYvS,KAAKuO,aAAavO,KAAKsM,SAAS5C,eAAiB,IAC7D1J,KAAKuO,aAAavO,KAAKsM,SAASwB,aACpC,IAAkD,aAA9C9N,KAAK4M,YAAoC,uBACzC,OAAS0B,WAAY,KAAMD,UAAWkE,EAE1C,IAAkD,aAA9CvS,KAAK4M,YAAoC,uBAAkB,CAC3D,GAAI4F,GAAYxS,KAAKuO,aAAavO,KAAKwM,SAAW,IAAMxM,KAAKuO,aAAavO,KAAKqN,OAAS,IAAMrN,KAAKuO,aAAavO,KAAKkO,wBACrH,QAASI,WAAckE,EAAWnE,UAAarO,KAAKyQ,cAAc8B,EAAWC,IAEjF,MAAO,OAGJxS,OAMbyS,OAAQ1R,QAIVjC,EAAE4T,UAAUC,MAAM,WAEdnS,cAAc4K","sourcesContent":[";(function(global, $){\r\n    //es5 strict mode\r\n    \"use strict\";\r\n\r\n    var ChannelVideos = global.ChannelVideos = global.ChannelVideos || {};\r\n\r\n    var fieldsElem;\r\n    var fields = {};\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    ChannelVideos.Init = function(){\r\n        fieldsElem = $('.CVField');\r\n\r\n        fieldsElem.each(function(i, elem){\r\n            elem = $(elem);\r\n            fields['field_'+elem.data('field_id')] = JSON.parse(elem.find('.jsondata').html());\r\n        });\r\n\r\n        fieldsElem.find('.SearchVideos').click(toggleSearchVideos);\r\n        fieldsElem.find('.SearchVideos input[type=text]').keypress(disableEnter);\r\n        fieldsElem.find('.SVWrapper .Button').click(searchForVideos);\r\n        fieldsElem.find('.SubmitVideoUrl').click(submitVideoUrl);\r\n\r\n        fieldsElem.delegate('.VideosResults .video .add', 'click', addVideo);\r\n        fieldsElem.delegate('.DelVideo', 'click', delVideo);\r\n        fieldsElem.delegate('.ClearVideoSearch', 'click', clearVideoSearch);\r\n\r\n        fieldsElem.find('.AssignedVideos').sortable({\r\n            cursor: 'move', opacity: 0.6, handle: '.MoveVideo', update:syncOrderNumbers,\r\n            helper: function(event, ui){\r\n                ui.children().each(function() {\r\n                    $(this).width($(this).width());\r\n                });\r\n                return ui;\r\n            },\r\n            forcePlaceholderSize: true,\r\n            start: function(event, ui){\r\n                ui.placeholder.html('<td colspan=\"20\"></td>');\r\n            },\r\n            placeholder: 'cvideo-reorder-state-highlight'\r\n        });\r\n\r\n        fieldsElem.find('.AssignedVideos .CVItem .PlayVideo').colorbox({iframe:true, width: 450, height:375});\r\n    };\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function toggleSearchVideos(e){\r\n        $(e.target).closest('.CVTable').find('.SVWrapperTR').toggle();\r\n        return false;\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function disableEnter(e){\r\n        if (e.which == 13)  {\r\n            $(e.target).closest('.CVField').find('.searchbutton').click();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function syncOrderNumbers(){\r\n        var attr;\r\n\r\n        // Loop over all Channel Videos Fields\r\n        fieldsElem.each(function(FieldIndex, VideoField){\r\n\r\n\r\n            // Loop over all individual Videos\r\n            $(VideoField).find('.CVItem').each(function(VideoIndex, VideoItem){\r\n\r\n                // Loop Over all Input Elements of the Relation Item\r\n                $(VideoItem).find('input, textarea, select').each(function(){\r\n                    attr = $(this).attr('name').replace(/\\[videos\\]\\[.*?\\]/, '[videos][' + (VideoIndex+1) + ']');\r\n                    $(this).attr('name', attr);\r\n                });\r\n            });\r\n\r\n            // Add Zebra\r\n            $(VideoField).find('.CVItem').removeClass('odd');\r\n            $(VideoField).find('.CVItem:odd').addClass('odd');\r\n        });\r\n\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function delVideo(e){\r\n\r\n        var VideoID = $(e.target).data('id');\r\n\r\n        // Send Ajax\r\n        if (VideoID) {\r\n            $.get(ChannelVideos.ACT_URL, {video_id: VideoID, ajax_method: 'delete_video'}, function(){\r\n\r\n            });\r\n        }\r\n\r\n        $(e.target).closest('.CVItem').fadeOut('slow', function(){\r\n            $(this).remove(); syncOrderNumbers();\r\n        });\r\n\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function clearVideoSearch(e){\r\n\r\n        var customField = jQuery(e.target).closest('.CVField');\r\n\r\n        TargetBox.find('.VideosResults .inner').empty();\r\n\r\n        return false;\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function searchForVideos(e){\r\n        e.preventDefault();\r\n\r\n        var results = {};\r\n        var params = {};\r\n        var customField = $(e.target).closest('.CVField');\r\n        var videoServices = fields['field_'+customField.data('field_id')].services;\r\n\r\n        // Grab all input fields\r\n        customField.find('.SVWrapper .cvsearch').find('input[type=text], input[type=hidden]').each(function(){\r\n            params[$(this).attr('rel')] = jQuery(this).val();\r\n        });\r\n\r\n        for (var i = 0; i < videoServices.length; i++) {\r\n            customField.find('.VideosResults .results-'+videoServices[i]).show().find('.LoadingVideos').show().siblings('.inner').empty();\r\n\r\n            if (videoServices[i] == 'youtube') {\r\n                youtubeSearchVideos(params, customField);\r\n            } else {\r\n                vimeoSearchVideos(params, customField);\r\n            }\r\n        }\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function addVideoResults(service, items, customField){\r\n        var Label = (service == 'youtube') ? 'Youtube' : 'Vimeo';\r\n        var html = '';\r\n\r\n        if (items.length === 0) {\r\n            html += '<p>No Results Found...</p>';\r\n        }\r\n\r\n        for (var i = 0; i < items.length; i++) {\r\n            html += '<div class=\"video\" rel=\"'+service+'|'+items[i].id+'\" id=\"'+service+'__'+items[i].id+'\">';\r\n            html +=     '<img src=\"' + items[i].img_url + '\" width=\"100px\" height=\"75px\">';\r\n            html +=     '<small>'+ items[i].title +'</small>';\r\n            html +=     '<span>';\r\n            html +=         '<a href=\"' + items[i].vid_url + '\" class=\"play\">&nbsp;</a>';\r\n            html +=         '<a href=\"#\" class=\"add\">&nbsp;</a>';\r\n            html +=     '</span>';\r\n            html += '</div>';\r\n        }\r\n\r\n        html += '<br clear=\"all\"></div>';\r\n\r\n        customField.find('.VideosResults .results-'+service).find('.LoadingVideos').hide().siblings('.inner').show().html(html);\r\n        customField.find('.VideosResults .video .play').colorbox({iframe:true, width: 450, height:375});\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function submitVideoUrl(e){\r\n        var videoUrl = prompt(\"Video URL?\", \"\");\r\n        if (videoUrl === null) return false;\r\n\r\n        var customField = $(e.target).closest('div.CVField');\r\n        var videoServices = fields['field_'+customField.data('field_id')].services;\r\n\r\n        customField.find('.SVWrapperTR').show();\r\n\r\n        for (var i = 0; i < videoServices.length; i++) {\r\n            customField.find('.VideosResults .results-'+videoServices[i]).show().find('.LoadingVideos').show().siblings('.inner').empty();\r\n\r\n            if (videoServices[i] == 'youtube') {\r\n                youtubeSubmitUrl(videoUrl, customField);\r\n            } else {\r\n                vimeoSubmitUrl(videoUrl, customField);\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function addVideoToTable(video, field_id) {\r\n        var field_data = fields['field_'+field_id];\r\n        var customField = $('#ChannelVideos'+field_id);\r\n        var html = '';\r\n\r\n        customField.find('#'+video.service+'__'+video.service_video_id).slideUp();\r\n\r\n        var video_date = new Date();\r\n        video_date.setTime( (video.video_date*1000) );\r\n\r\n        if (field_data.layout == 'table') {\r\n            html += '<tr class=\"CVItem\">';\r\n            html +=     '<td><a href=\"'+video.video_url+'\" class=\"PlayVideo\"><img src=\"'+video.video_img_url+'\" width=\"100px\" height=\"75px\"></a></td>';\r\n            html +=     '<td>'+video.video_title+'</td>';\r\n            html +=     '<td>'+video.video_author+'</td>';\r\n            html +=     '<td>'+(video.video_duration/60).toFixed(2)+' min</td>';\r\n            html +=     '<td>'+video.video_views+'</td>';\r\n            html +=     '<td>'+video_date.toDateString()+'</td>';\r\n            html +=     '<td>';\r\n            html +=         '<a href=\"javascript:void(0)\" class=\"MoveVideo\">&nbsp;</a>';\r\n            html +=         '<a href=\"javascript:void(0)\" class=\"DelVideo\" data-id=\"'+video.video_id+'\">&nbsp;</a>';\r\n\r\n            if (video.video_id > 0) {\r\n                html += '<input name=\"'+field_data.field_name+'[videos][0][video_id]\" type=\"hidden\" value=\"'+video.video_id+'\">';\r\n            } else {\r\n                html += '<textarea name=\"'+field_data.field_name+'[videos][0][data]\" style=\"display:none\">'+JSON.stringify(video)+'</textarea>';\r\n            }\r\n\r\n            html +=     '</td>';\r\n            html += '</tr>';\r\n        } else {\r\n            html += '<div class=\"CVItem VideoTile\">';\r\n            html +=     '<a href=\"'+video.video_url+'\" class=\"PlayVideo\"><img src=\"'+video.video_img_url+'\" width=\"100px\" height=\"75px\"></a>';\r\n            html +=     '<small>'+video.video_title+'</small>';\r\n            html +=     '<span>';\r\n            html +=         '<a href=\"javascript:void(0)\" class=\"MoveVideo\">&nbsp;</a>';\r\n            html +=         '<a href=\"javascript:void(0)\" class=\"DelVideo\" data-id=\"'+video.video_id+'\">&nbsp;</a>';\r\n\r\n            if (video.video_id > 0) {\r\n                html += '<input name=\"'+field_data.field_name+'[videos][0][video_id]\" type=\"hidden\" value=\"'+video.video_id+'\">';\r\n            } else {\r\n                html += '<textarea name=\"'+field_data.field_name+'[videos][0][data]\" style=\"display:none\">'+JSON.stringify(video)+'</textarea>';\r\n            }\r\n            html +=     '</span>';\r\n            html += '</div>';\r\n        }\r\n\r\n        customField.find('.AssignedVideos .NoVideos').hide();\r\n        customField.find('.AssignedVideos').append(html);\r\n        syncOrderNumbers();\r\n        customField.find('.AssignedVideos .CVItem .PlayVideo').colorbox({iframe:true, width: 450, height:375});\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function addVideo(e){\r\n        var Parent = jQuery(e.target).closest('div.video');\r\n        var customField = jQuery(e.target).closest('div.CVField');\r\n        var field_id = customField.data('field_id');\r\n\r\n        jQuery(e.target).addClass('loading');\r\n\r\n        var Params = {};\r\n        Params.ajax_method = 'get_video';\r\n        Params.service = Parent.attr('rel').split('|')[0];\r\n        Params.video_id = Parent.attr('rel').split('|')[1];\r\n        Params.field_id = field_id;\r\n        Params.field_name = fields['field_'+field_id].field_name;\r\n        Params.field_layout = fields['field_'+field_id].layout;\r\n\r\n        if (Params.service == 'youtube') {\r\n            youtubeGetVideo(Params.video_id, field_id, addVideoToTable);\r\n\r\n            return false;\r\n        } else {\r\n            vimeoGetVideo(Params.video_id, field_id, addVideoToTable);\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function youtubeSearchVideos(params, customField){\r\n        var i, entry, video_id;\r\n\r\n        if (params.author) params.keywords += ' ' +params.author;\r\n\r\n        $.ajax({\r\n            crossDomain: true,\r\n            dataType: \"json\",\r\n            url: 'https://gdata.youtube.com/feeds/api/videos/?v=2&alt=json&callback=?',\r\n            data: {q:params.keywords, 'max-results':params.limit},\r\n            success: function(rdata){\r\n                var Videos = [];\r\n\r\n                if (typeof rdata.feed === 'undefined') {\r\n                    addVideoResults('youtube', Videos, customField);\r\n                }\r\n\r\n                if (typeof rdata.feed.entry === 'undefined') {\r\n                    addVideoResults('youtube', Videos, customField);\r\n                }\r\n\r\n                for (var i = 0; i < rdata.feed.entry.length; i++) {\r\n                    entry = rdata.feed.entry[i];\r\n                    video_id = entry.media$group.yt$videoid.$t;\r\n\r\n                    Videos.push({\r\n                        id: video_id,\r\n                        title: entry.title.$t,\r\n                        img_url: 'https://i.ytimg.com/vi/' + video_id + '/default.jpg',\r\n                        vid_url: 'https://www.youtube.com/embed/'+video_id\r\n                    });\r\n\r\n                }\r\n\r\n                addVideoResults('youtube', Videos, customField);\r\n            }\r\n        });\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function youtubeSubmitUrl(url, customField){\r\n        var servicebox = customField.find('.VideosResults .results-youtube').show();\r\n        var inner = servicebox.find('.inner');\r\n        var loading = servicebox.find('.LoadingVideos');\r\n        var id = null;\r\n        var parts;\r\n\r\n        if (url.indexOf('youtube') === -1 && url.indexOf('youtu.be') === -1) {\r\n            loading.hide();\r\n            inner.html('<p>Not a valid Youtube URL</p>');\r\n            return;\r\n        }\r\n\r\n        // http://www.youtube.com/watch?v=9bZkp7q19f0\r\n        if (url.indexOf('youtube.com/watch') > 0) {\r\n            parts = parseUrl(url);\r\n            id = getQueryVariable(parts.query, 'v');\r\n        }\r\n\r\n        // http://youtu.be/9bZkp7q19f0\r\n        else if (url.indexOf('youtu.be') > 0) {\r\n            parts = url.split('/');\r\n            id = parts[(parts.length-1)];\r\n        }\r\n\r\n        // http://www.youtube.com/embed/9bZkp7q19f0\r\n        else if (url.indexOf('youtube.com/embed') > 0) {\r\n            parts = url.split('/');\r\n            id = parts[(parts.length-1)];\r\n        }\r\n\r\n        if (id === null) {\r\n            loading.hide();\r\n            inner.html('<p>Could not parse Youtube ID from that URL</p>');\r\n            return;\r\n        }\r\n\r\n        $.ajax({\r\n            crossDomain: true,\r\n            dataType: \"json\",\r\n            url: 'https://gdata.youtube.com/feeds/api/videos/'+id+'?v=2&alt=json&callback=?',\r\n            success: function(rdata){\r\n                var video_id;\r\n                loading.hide();\r\n\r\n                if (typeof rdata.entry === 'undefined') {\r\n                    inner.html('<p>Youtube could not find the video. (ID: '+id+')</p>');\r\n                }\r\n\r\n                video_id = rdata.entry.media$group.yt$videoid.$t;\r\n\r\n                addVideoResults('youtube', [{\r\n                    id: video_id,\r\n                    title: rdata.entry.title.$t,\r\n                    img_url: 'https://i.ytimg.com/vi/' + video_id + '/default.jpg',\r\n                    vid_url: 'https://www.youtube.com/embed/'+video_id\r\n                }], customField);\r\n            }\r\n        });\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function youtubeGetVideo(id, field_id, callback){\r\n        $.ajax({\r\n            crossDomain: true,\r\n            dataType: \"json\",\r\n            url: 'https://gdata.youtube.com/feeds/api/videos/'+id+'?v=2&alt=json&callback=?',\r\n            success: function(rdata){\r\n\r\n                var video_id = rdata.entry.media$group.yt$videoid.$t;\r\n                var Video = {};\r\n                Video.service = 'youtube';\r\n                Video.service_video_id = video_id;\r\n                Video.video_id = 0;\r\n                Video.video_url = 'http://www.youtube.com/embed/' + video_id;\r\n                Video.video_img_url = 'http://i.ytimg.com/vi/' + video_id + '/default.jpg';\r\n                Video.video_title = rdata.entry.title.$t;\r\n                Video.video_desc = rdata.entry.media$group.media$description.$t;\r\n                Video.video_username = rdata.entry.author[0].name.$t;\r\n                Video.video_author = rdata.entry.author[0].name.$t;\r\n                Video.video_author_id = 0;\r\n                Video.video_duration = rdata.entry.media$group.yt$duration.seconds;\r\n\r\n                Video.video_views = 0;\r\n\r\n                // When the video has no views, stats will not exists\r\n                if (typeof rdata.entry != 'undefined'\r\n                    && typeof rdata.entry.yt$statistics != 'undefined'\r\n                    && typeof rdata.entry.yt$statistics.viewCount != 'undefined') {\r\n                    Video.video_views = rdata.entry.yt$statistics.viewCount;\r\n                }\r\n\r\n                if (typeof rdata.entry != 'undefined') {\r\n                    Video.video_date = (new Date(rdata.entry.published.$t).getTime()/1000);\r\n                }\r\n\r\n                callback(Video, field_id);\r\n            }\r\n        });\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function vimeoSearchVideos(params, customField){\r\n        var i, entry, img_url, thumb;\r\n\r\n        var servicebox = customField.find('.VideosResults .results-vimeo').show();\r\n        var inner = servicebox.find('.inner');\r\n        var loading = servicebox.find('.LoadingVideos');\r\n\r\n        var urlparams = {};\r\n        urlparams.format = 'jsonp';\r\n        urlparams.method = 'vimeo.videos.search';\r\n        urlparams.query = params.keywords;\r\n        if (params.author) urlparams.user_id = params.author;\r\n        urlparams.per_page = params.limit;\r\n        urlparams.full_response = '1';\r\n        var url = vimeoGetTheSignedUrl($.param(urlparams));\r\n        //url = decodeURIComponent(url.replace(/\\+/g,  \" \"));\r\n\r\n        $.ajax({\r\n            crossDomain: true,\r\n            dataType: \"jsonp\",\r\n            url: url,\r\n            jsonp: false, jsonpCallback: \"vimeoCallback\",\r\n            cache: true, // Adding the extra cache params breaks it!!\r\n            success: function(rdata){\r\n                if (rdata.stat != 'ok') {\r\n                    loading.hide();\r\n                    inner.html('<p>The vimeo request failed!</p>');\r\n                    return;\r\n                }\r\n\r\n                if (rdata.videos.on_this_page === 0) {\r\n                    loading.hide();\r\n                    inner.html('<p>No results found..</p>');\r\n                    return;\r\n                }\r\n\r\n                var Videos = [];\r\n\r\n                for (var i = 0; i < rdata.videos.video.length; i++) {\r\n                    entry = rdata.videos.video[i];\r\n\r\n                    for (var ii = entry.thumbnails.thumbnail.length - 1; ii >= 0; ii--) {\r\n                        thumb = entry.thumbnails.thumbnail[ii];\r\n                        if (thumb.width == '100' || thumb.height == '100') {\r\n                            img_url = thumb._content;\r\n                        }\r\n                    }\r\n\r\n                    Videos.push({\r\n                        id: entry.id,\r\n                        title: entry.title,\r\n                        img_url: img_url,\r\n                        vid_url: 'http://player.vimeo.com/video/' + entry.id + '?title=0&byline=0&portrait=0'\r\n                    });\r\n\r\n                }\r\n\r\n                addVideoResults('vimeo', Videos, customField);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function vimeoSubmitUrl(url, customField){\r\n        var servicebox = customField.find('.VideosResults .results-vimeo').show();\r\n        var inner = servicebox.find('.inner');\r\n        var loading = servicebox.find('.LoadingVideos');\r\n        var id = null;\r\n        var parts, entry, thumb, img_url;\r\n\r\n        if (url.indexOf('vimeo') === -1) {\r\n            loading.hide();\r\n            inner.html('<p>Not a valid Vimeo URL</p>');\r\n            return;\r\n        }\r\n\r\n        // https://vimeo.com/58161697\r\n        if (url.indexOf('vimeo.com/') > 0) {\r\n            parts = url.split('/');\r\n            id = parts[(parts.length-1)];\r\n        }\r\n\r\n        if (id === null) {\r\n            loading.hide();\r\n            inner.html('<p>Could not parse Vimeo ID from that URL</p>');\r\n            return;\r\n        }\r\n\r\n        var urlparams = {};\r\n        urlparams.format = 'jsonp';\r\n        urlparams.method = 'vimeo.videos.getInfo';\r\n        urlparams.video_id = id;\r\n        urlparams.full_response = '1';\r\n\r\n        url = vimeoGetTheSignedUrl($.param(urlparams));\r\n        //url = decodeURIComponent(url.replace(/\\+/g,  \" \"));\r\n\r\n        $.ajax({\r\n            crossDomain: true,\r\n            dataType: \"jsonp\",\r\n            url: url,\r\n            jsonp: false, jsonpCallback: \"vimeoCallback\",\r\n            cache: true, // Adding the extra cache params breaks it!!\r\n            success: function(rdata){\r\n                if (rdata.stat != 'ok') {\r\n                    loading.hide();\r\n                    inner.html('<p>The vimeo request failed!</p>');\r\n                    return;\r\n                }\r\n\r\n                if (rdata.video.length === 0) {\r\n                    loading.hide();\r\n                    inner.html('<p>No results found..</p>');\r\n                    return;\r\n                }\r\n\r\n                var Videos = [];\r\n\r\n                for (var i = 0; i < rdata.video.length; i++) {\r\n                    entry = rdata.video[i];\r\n\r\n                    for (var ii = entry.thumbnails.thumbnail.length - 1; ii >= 0; ii--) {\r\n                        thumb = entry.thumbnails.thumbnail[ii];\r\n                        if (thumb.width == '100' || thumb.height == '100') {\r\n                            img_url = thumb._content;\r\n                        }\r\n                    }\r\n\r\n                    Videos.push({\r\n                        id: entry.id,\r\n                        title: entry.title,\r\n                        img_url: img_url,\r\n                        vid_url: 'http://player.vimeo.com/video/' + entry.id + '?title=0&byline=0&portrait=0'\r\n                    });\r\n\r\n                }\r\n\r\n                addVideoResults('vimeo', Videos, customField);\r\n            }\r\n        });\r\n\r\n        return;\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function vimeoGetVideo(id, field_id, callback){\r\n        var entry, thumb, img_url;\r\n\r\n        var urlparams = {};\r\n        urlparams.format = 'jsonp';\r\n        urlparams.method = 'vimeo.videos.getInfo';\r\n        urlparams.video_id = id;\r\n        urlparams.full_response = '1';\r\n        var url = vimeoGetTheSignedUrl($.param(urlparams));\r\n        //url = decodeURIComponent(url.replace(/\\+/g,  \" \"));\r\n\r\n        $.ajax({\r\n            crossDomain: true,\r\n            dataType: \"jsonp\",\r\n            url: url,\r\n            jsonp: false, jsonpCallback: \"vimeoCallback\",\r\n            cache: true, // Adding the extra cache params breaks it!!\r\n            success: function(rdata){\r\n                if (rdata.stat != 'ok') {\r\n                    loading.hide();\r\n                    inner.html('<p>The vimeo request failed!</p>');\r\n                    return;\r\n                }\r\n\r\n                entry = rdata.video[0];\r\n\r\n                for (var ii = entry.thumbnails.thumbnail.length - 1; ii >= 0; ii--) {\r\n                    thumb = entry.thumbnails.thumbnail[ii];\r\n                    if (thumb.width == '100' || thumb.height == '100') {\r\n                        img_url = thumb._content;\r\n                    }\r\n                }\r\n\r\n                var Video = {};\r\n                Video.service = 'vimeo';\r\n                Video.service_video_id = entry.id;\r\n                Video.video_id = 0;\r\n                Video.video_url = 'http://player.vimeo.com/video/' + entry.id + '?title=0&byline=0&portrait=0';\r\n                Video.video_img_url = img_url;\r\n                Video.video_title = entry.title;\r\n                Video.video_desc = entry.description;\r\n                Video.video_username = entry.owner.username;\r\n                Video.video_author = entry.owner.display_name;\r\n                Video.video_author_id = entry.owner.id;\r\n                Video.video_duration = entry.duration;\r\n                Video.video_views = entry.number_of_plays;\r\n                Video.video_date = (new Date(entry.upload_date.replace(' ', 'T')+'-00:00').getTime()/1000);\r\n\r\n                callback(Video, field_id);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function vimeoGetTheSignedUrl(params) {\r\n        var recvd_resp = \"nothing\";\r\n        var oauth = new ChannelVideos.OAuthSimple();\r\n\r\n        try {\r\n            var oauthObject = oauth.sign({\r\n                path: 'https://vimeo.com/api/rest/v2',\r\n                parameters: params,\r\n                signatures: {\r\n                    api_key: vimeoConsumerKey,\r\n                    shared_secret: vimeoSharedSecret\r\n                }\r\n            });\r\n            recvd_resp = oauthObject.signed_url;\r\n        }\r\n        catch (e) {\r\n            alert(e);\r\n        }\r\n\r\n        return recvd_resp;\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function parseUrl(str, component) {\r\n        var key = ['source', 'scheme', 'authority', 'userInfo', 'user', 'pass', 'host', 'port',\r\n                'relative', 'path', 'directory', 'file', 'query', 'fragment'],\r\n        ini = {},\r\n        mode = (ini['phpjs.parse_url.mode'] &&\r\n          ini['phpjs.parse_url.mode'].local_value) || 'php',\r\n        parser = {\r\n          php: /^(?:([^:\\/?#]+):)?(?:\\/\\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?))?()(?:(()(?:(?:[^?#\\/]*\\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\r\n          strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\r\n          loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/\\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/ // Added one optional slash to post-scheme to catch file:/// (should restrict this)\r\n        };\r\n\r\n        var m = parser[mode].exec(str),\r\n        uri = {},\r\n        i = 14;\r\n        while (i--) {\r\n        if (m[i]) {\r\n          uri[key[i]] = m[i];\r\n        }\r\n        }\r\n\r\n        if (component) {\r\n        return uri[component.replace('PHP_URL_', '').toLowerCase()];\r\n        }\r\n        if (mode !== 'php') {\r\n        var name = (ini['phpjs.parse_url.queryKey'] &&\r\n            ini['phpjs.parse_url.queryKey'].local_value) || 'queryKey';\r\n        parser = /(?:^|&)([^&=]*)=?([^&]*)/g;\r\n        uri[name] = {};\r\n        uri[key[12]].replace(parser, function ($0, $1, $2) {\r\n          if ($1) {uri[name][$1] = $2;}\r\n        });\r\n        }\r\n        delete uri.source;\r\n        return uri;\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    function getQueryVariable(url, variable) {\r\n        var query = url;\r\n        var vars = query.split('&');\r\n        for (var i = 0; i < vars.length; i++) {\r\n            var pair = vars[i].split('=');\r\n            if (decodeURIComponent(pair[0]) == variable) {\r\n                return decodeURIComponent(pair[1]);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    //OAuthSimple Class :)\r\n    //var vimeoConsumerKey = 'be6f5726995c952d80c62fea3bfdacbd92f477ae';\r\n    //var vimeoSharedSecret = '5e082c746fefa4bbad7217d7ca8aef12dae4dab5';\r\n    var vimeoConsumerKey = '1a8a81eaf6658d0dbb955f0386f484c1f9b55ece';\r\n    var vimeoSharedSecret = '2ffac38d1ee9eac6a2389269aa19429a927ff07b';\r\n\r\n    ChannelVideos.OAuthSimple = function (consumer_key, shared_secret) {\r\n        this._secrets = {};\r\n\r\n\r\n        // General configuration options.\r\n        if (consumer_key != null)\r\n            this._secrets['consumer_key'] = consumer_key;\r\n        if (shared_secret != null)\r\n            this._secrets['shared_secret'] = shared_secret;\r\n        this._default_signature_method = \"HMAC-SHA1\";\r\n        this._action = \"GET\";\r\n        this._nonce_chars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\r\n\r\n        /* set the parameters either from a hash or a string\r\n        *\r\n        * @param {string,object} List of parameters for the call, this can either be a URI string (e.g. \"foo=bar&gorp=banana\" or an object/hash)\r\n        */\r\n\r\n        this.setParameters = function (parameters) {\r\n            if (parameters == null)\r\n                parameters = {};\r\n            if (typeof (parameters) == 'string')\r\n                parameters = this._parseParameterString(parameters);\r\n            this._parameters = parameters;\r\n            if (this._parameters['oauth_nonce'] == null)\r\n                this._getNonce();\r\n            if (this._parameters['oauth_timestamp'] == null)\r\n                this._getTimestamp();\r\n            if (this._parameters['oauth_method'] == null)\r\n                this.setSignatureMethod();\r\n            if (this._parameters['oauth_consumer_key'] == null)\r\n                this._getApiKey();\r\n            if (this._parameters['oauth_token'] == null)\r\n                this._getAccessToken();\r\n\r\n            return this;\r\n        };\r\n\r\n        /* convienence method for setParameters\r\n        *\r\n        * @param parameters {string,object} See .setParameters\r\n        */\r\n        this.setQueryString = function (parameters) {\r\n            return this.setParameters(parameters);\r\n        };\r\n\r\n        /* Set the target URL (does not include the parameters)\r\n        *\r\n        * @param path {string} the fully qualified URI (excluding query arguments) (e.g \"http://example.org/foo\")\r\n        */\r\n        this.setURL = function (path) {\r\n            if (path == '')\r\n                throw ('No path specified for OAuthSimple.setURL');\r\n            if (path.indexOf(' ') != -1) {\r\n                $(\"#path\").select();\r\n                throw ('Space detected in request path/URL');\r\n            };\r\n            this._path = path;\r\n            return this;\r\n        };\r\n\r\n        /* convienence method for setURL\r\n        *\r\n        * @param path {string} see .setURL\r\n        */\r\n        this.setPath = function (path) {\r\n            return this.setURL(path);\r\n        };\r\n\r\n        /* set the \"action\" for the url, (e.g. GET,POST, DELETE, etc.)\r\n        *\r\n        * @param action {string} HTTP Action word.\r\n        */\r\n        this.setAction = function (action) {\r\n            if (action == null)\r\n                action = \"GET\";\r\n            action = action.toUpperCase();\r\n            if (action.match('[^A-Z]'))\r\n                throw ('Invalid action specified for OAuthSimple.setAction');\r\n            this._action = action;\r\n            return this;\r\n        };\r\n\r\n        /* set the signatures (as well as validate the ones you have)\r\n        *\r\n        * @param signatures {object} object/hash of the token/signature pairs {api_key:, shared_secret:, oauth_token: oauth_secret:}\r\n        */\r\n        this.setTokensAndSecrets = function (signatures) {\r\n            if (signatures)\r\n                for (var i in signatures)\r\n                    this._secrets[i] = signatures[i];\r\n            // Aliases\r\n            if (this._secrets['api_key'])\r\n                this._secrets.consumer_key = this._secrets.api_key;\r\n            if (this._secrets['access_token'])\r\n                this._secrets.oauth_token = this._secrets.access_token;\r\n            if (this._secrets['access_secret'])\r\n                this._secrets.oauth_secret = this._secrets.access_secret;\r\n            // Gauntlet\r\n            if (this._secrets.consumer_key == null)\r\n                throw ('Missing required consumer_key in OAuthSimple.setTokensAndSecrets');\r\n            if (this._secrets.shared_secret == null)\r\n                throw ('Missing required shared_secret in OAuthSimple.setTokensAndSecrets');\r\n            if ((this._secrets.oauth_token != null) && (this._secrets.oauth_secret == null))\r\n                throw ('Missing oauth_secret for supplied oauth_token in OAuthSimple.setTokensAndSecrets');\r\n            return this;\r\n        };\r\n\r\n        /* set the signature method (currently only Plaintext or SHA-MAC1)\r\n        *\r\n        * @param method {string} Method of signing the transaction (only PLAINTEXT and SHA-MAC1 allowed for now)\r\n        */\r\n        this.setSignatureMethod = function (method) {\r\n            if (method == null)\r\n                method = this._default_signature_method;\r\n            //TODO: accept things other than PlainText or SHA-MAC1\r\n            if (method.toUpperCase().match(/(PLAINTEXT|HMAC-SHA1)/) == null)\r\n                throw ('Unknown signing method specified for OAuthSimple.setSignatureMethod');\r\n            this._parameters['oauth_signature_method'] = method.toUpperCase();\r\n            return this;\r\n        };\r\n\r\n        /* sign the request\r\n        *\r\n        * note: all arguments are optional, provided you've set them using the\r\n        * other helper functions.\r\n        *\r\n        * @param args {object} hash of arguments for the call\r\n        * {action:, path:, parameters:, method:, signatures:}\r\n        * all arguments are optional.\r\n        */\r\n        this.sign = function (args) {\r\n            if (args == null)\r\n                args = {};\r\n            // Set any given parameters\r\n            if (args['action'] != null)\r\n                this.setAction(args['action']);\r\n            if (args['path'] != null)\r\n                this.setPath(args['path']);\r\n            if (args['method'] != null)\r\n                this.setSignatureMethod(args['method']);\r\n            this.setTokensAndSecrets(args['signatures']);\r\n            if (args['parameters'] != null)\r\n                this.setParameters(args['parameters']);\r\n            // check the parameters\r\n            var normParams = this._normalizedParameters();\r\n            var sig = this._generateSignature(normParams);\r\n            this._parameters['oauth_signature'] = sig.signature;\r\n            return {\r\n                parameters: this._parameters,\r\n                sig_string: sig.sig_string,\r\n                signature: this._oauthEscape(this._parameters['oauth_signature']),\r\n                signed_url: this._path + '?' + this._normalizedParameters(),\r\n                header: this.getHeaderString()\r\n            };\r\n        };\r\n\r\n        /* Return a formatted \"header\" string\r\n        *\r\n        * NOTE: This doesn't set the \"Authorization: \" prefix, which is required.\r\n        * I don't set it because various set header functions prefer different\r\n        * ways to do that.\r\n        *\r\n        * @param args {object} see .sign\r\n        */\r\n        this.getHeaderString = function (args) {\r\n            if (this._parameters['oauth_signature'] == null)\r\n                this.sign(args);\r\n\r\n            var result = 'OAuth ';\r\n            for (var pName in this._parameters) {\r\n                if (pName.match(/^oauth/) == null)\r\n                    continue;\r\n                if ((this._parameters[pName]) instanceof Array) {\r\n                    var pLength = this._parameters[pName].length;\r\n                    for (var j = 0; j < pLength; j++) {\r\n                        result += pName + '=\"' + this._oauthEscape(this._parameters[pName][j]) + '\" ';\r\n                    }\r\n                }\r\n                else {\r\n                    result += pName + '=\"' + this._oauthEscape(this._parameters[pName]) + '\" ';\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n\r\n        // Start Private Methods.\r\n\r\n        /* convert the parameter string into a hash of objects.\r\n        *\r\n        */\r\n        this._parseParameterString = function (paramString) {\r\n            var elements = paramString.split('&');\r\n            var result = {};\r\n            for (var element = elements.shift(); element; element = elements.shift()) {\r\n                var keyToken = element.split('=');\r\n                var value;\r\n                if (keyToken[1])\r\n                    value = decodeURIComponent(keyToken[1]);\r\n                if (result[keyToken[0]]) {\r\n                    if (!(result[keyToken[0]] instanceof Array)) {\r\n                        result[keyToken[0]] = Array(result[keyToken[0]], value);\r\n                    }\r\n                    else {\r\n                        result[keyToken[0]].push(value);\r\n                    }\r\n                }\r\n                else {\r\n                    result[keyToken[0]] = value;\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n\r\n        this._oauthEscape = function (string) {\r\n            if (string == null)\r\n                return \"\";\r\n            if (string instanceof Array) {\r\n                throw ('Array passed to _oauthEscape');\r\n            }\r\n            return encodeURIComponent(string).replace(/\\!/g, \"%21\").\r\n            replace(/\\*/g, \"%2A\").\r\n            replace(/'/g, \"%27\").\r\n            replace(/\\(/g, \"%28\").\r\n            replace(/\\)/g, \"%29\");\r\n        };\r\n\r\n        this._getNonce = function (length) {\r\n            if (length == null)\r\n                length = 5;\r\n            var result = \"\";\r\n            var cLength = this._nonce_chars.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var rnum = Math.floor(Math.random() * cLength);\r\n                result += this._nonce_chars.substring(rnum, rnum + 1);\r\n            }\r\n            this._parameters['oauth_nonce'] = result;\r\n            return result;\r\n        };\r\n\r\n        this._getApiKey = function () {\r\n            if (this._secrets.consumer_key == null)\r\n                throw ('No consumer_key set for OAuthSimple.');\r\n            this._parameters['oauth_consumer_key'] = this._secrets.consumer_key;\r\n            return this._parameters.oauth_consumer_key;\r\n        };\r\n\r\n        this._getAccessToken = function () {\r\n            if (this._secrets['oauth_secret'] == null)\r\n                return '';\r\n            if (this._secrets['oauth_token'] == null)\r\n                throw ('No oauth_token (access_token) set for OAuthSimple.');\r\n            this._parameters['oauth_token'] = this._secrets.oauth_token;\r\n            return this._parameters.oauth_token;\r\n        };\r\n\r\n        this._getTimestamp = function () {\r\n            var d = new Date();\r\n            var ts = Math.floor(d.getTime() / 1000);\r\n            this._parameters['oauth_timestamp'] = ts;\r\n            return ts;\r\n        };\r\n\r\n        this._normalizedParameters = function () {\r\n            var elements = new Array();\r\n            var paramNames = [];\r\n            var ra = 0;\r\n\r\n            for (var paramName in this._parameters) {\r\n                if (ra++ > 1000)\r\n                    throw ('runaway 1');\r\n                paramNames.unshift(paramName);\r\n            }\r\n            paramNames = paramNames.sort();\r\n            var pLen = paramNames.length;\r\n            for (var i = 0; i < pLen; i++) {\r\n                paramName = paramNames[i];\r\n                //skip secrets.\r\n                if (paramName.match(/\\w+_secret/))\r\n                    continue;\r\n                if (this._parameters[paramName] instanceof Array) {\r\n                    var sorted = this._parameters[paramName].sort();\r\n                    var spLen = sorted.length;\r\n                    for (var j = 0; j < spLen; j++) {\r\n                        if (ra++ > 1000)\r\n                            throw ('runaway 1');\r\n                        elements.push(this._oauthEscape(paramName) + '=' +\r\n                                  this._oauthEscape(sorted[j]));\r\n                    }\r\n                    continue;\r\n                }\r\n                elements.push(this._oauthEscape(paramName) + '=' +\r\n                              this._oauthEscape(this._parameters[paramName]));\r\n            }\r\n            return elements.join('&');\r\n        };\r\n\r\n        this.b64_hmac_sha1 = function (k, d, _p, _z) {\r\n            // heavily optimized and compressed version of http://pajhome.org.uk/crypt/md5/sha1.js\r\n            // _p = b64pad, _z = character size; not used here but I left them available just in case\r\n            if (!_p) { _p = '='; } if (!_z) { _z = 8; } function _f(t, b, c, d) { if (t < 20) { return (b & c) | ((~b) & d); } if (t < 40) { return b ^ c ^ d; } if (t < 60) { return (b & c) | (b & d) | (c & d); } return b ^ c ^ d; } function _k(t) { return (t < 20) ? 1518500249 : (t < 40) ? 1859775393 : (t < 60) ? -1894007588 : -899497514; } function _s(x, y) { var l = (x & 0xFFFF) + (y & 0xFFFF), m = (x >> 16) + (y >> 16) + (l >> 16); return (m << 16) | (l & 0xFFFF); } function _r(n, c) { return (n << c) | (n >>> (32 - c)); } function _c(x, l) { x[l >> 5] |= 0x80 << (24 - l % 32); x[((l + 64 >> 9) << 4) + 15] = l; var w = [80], a = 1732584193, b = -271733879, c = -1732584194, d = 271733878, e = -1009589776; for (var i = 0; i < x.length; i += 16) { var o = a, p = b, q = c, r = d, s = e; for (var j = 0; j < 80; j++) { if (j < 16) { w[j] = x[i + j]; } else { w[j] = _r(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1); } var t = _s(_s(_r(a, 5), _f(j, b, c, d)), _s(_s(e, w[j]), _k(j))); e = d; d = c; c = _r(b, 30); b = a; a = t; } a = _s(a, o); b = _s(b, p); c = _s(c, q); d = _s(d, r); e = _s(e, s); } return [a, b, c, d, e]; } function _b(s) { var b = [], m = (1 << _z) - 1; for (var i = 0; i < s.length * _z; i += _z) { b[i >> 5] |= (s.charCodeAt(i / 8) & m) << (32 - _z - i % 32); } return b; } function _h(k, d) { var b = _b(k); if (b.length > 16) { b = _c(b, k.length * _z); } var p = [16], o = [16]; for (var i = 0; i < 16; i++) { p[i] = b[i] ^ 0x36363636; o[i] = b[i] ^ 0x5C5C5C5C; } var h = _c(p.concat(_b(d)), 512 + d.length * _z); return _c(o.concat(h), 512 + 160); } function _n(b) { var t = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", s = ''; for (var i = 0; i < b.length * 4; i += 3) { var r = (((b[i >> 2] >> 8 * (3 - i % 4)) & 0xFF) << 16) | (((b[i + 1 >> 2] >> 8 * (3 - (i + 1) % 4)) & 0xFF) << 8) | ((b[i + 2 >> 2] >> 8 * (3 - (i + 2) % 4)) & 0xFF); for (var j = 0; j < 4; j++) { if (i * 8 + j * 6 > b.length * 32) { s += _p; } else { s += t.charAt((r >> 6 * (3 - j)) & 0x3F); } } } return s; } function _x(k, d) { return _n(_h(k, d)); } return _x(k, d);\r\n        };\r\n\r\n        this._generateSignature = function () {\r\n\r\n            var secretKey = this._oauthEscape(this._secrets.shared_secret) + '&' +\r\n                this._oauthEscape(this._secrets.oauth_secret);\r\n            if (this._parameters['oauth_signature_method'] == 'PLAINTEXT') {\r\n                return { sig_string: null, signature: secretKey };\r\n            }\r\n            if (this._parameters['oauth_signature_method'] == 'HMAC-SHA1') {\r\n                var sigString = this._oauthEscape(this._action) + '&' + this._oauthEscape(this._path) + '&' + this._oauthEscape(this._normalizedParameters());\r\n                return { 'sig_string': sigString, 'signature': this.b64_hmac_sha1(secretKey, sigString) };\r\n            }\r\n            return null;\r\n        };\r\n\r\n        return this;\r\n    };\r\n\r\n    /* --------------------------------End of Simple OAuth Class------------------------------------- */\r\n\r\n\r\n}(window, jQuery));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\n$(document).ready(function() {\r\n\r\n    ChannelVideos.Init();\r\n});\r\n\r\n//********************************************************************************* //\r\n"]}