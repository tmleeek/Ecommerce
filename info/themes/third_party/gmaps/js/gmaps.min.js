/*!
 * GMaps.js
 * http://reinos.nl/expressionengine/gmaps/overview
 *
 * Copyright 2016, Rein de Vries
 * Released under the  License.
 */


function MarkerClusterer(a,b,c){this.extend(MarkerClusterer,google.maps.OverlayView),this.map_=a,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var d=c||{};this.gridSize_=d.gridSize||60,this.minClusterSize_=d.minimumClusterSize||2,this.maxZoom_=d.maxZoom||null,this.styles_=d.styles||[],this.imagePath_=d.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=d.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,void 0!=d.zoomOnClick&&(this.zoomOnClick_=d.zoomOnClick),this.averageCenter_=!1,void 0!=d.averageCenter&&(this.averageCenter_=d.averageCenter),this.setupStyles_(),this.setMap(a),this.prevZoom_=this.map_.getZoom();var e=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var a=e.map_.getZoom();e.prevZoom_!=a&&(e.prevZoom_=a,e.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){e.redraw()}),b&&b.length&&this.addMarkers(b,!1)}function Cluster(a){this.markerClusterer_=a,this.map_=a.getMap(),this.gridSize_=a.getGridSize(),this.minClusterSize_=a.getMinClusterSize(),this.averageCenter_=a.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,a.getStyles(),a.getGridSize())}function ClusterIcon(a,b,c){a.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.styles_=b,this.padding_=c||0,this.cluster_=a,this.center_=null,this.map_=a.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}function InfoBox(a){a=a||{},google.maps.OverlayView.apply(this,arguments),this.content_=a.content||"",this.disableAutoPan_=a.disableAutoPan||!1,this.maxWidth_=a.maxWidth||0,this.pixelOffset_=a.pixelOffset||new google.maps.Size(0,0),this.position_=a.position||new google.maps.LatLng(0,0),this.zIndex_=a.zIndex||null,this.boxClass_=a.boxClass||"infoBox",this.boxStyle_=a.boxStyle||{},this.closeBoxMargin_=a.closeBoxMargin||"2px",this.closeBoxURL_=a.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===a.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=a.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof a.visible&&(a.visible="undefined"==typeof a.isHidden?!0:!a.isHidden),this.isHidden_=!a.visible,this.alignBottom_=a.alignBottom||!1,this.pane_=a.pane||"floatPane",this.enableEventPropagation_=a.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function createUUID(){for(var a=[],b="0123456789abcdef",c=0;36>c;c++)a[c]=b.substr(Math.floor(16*Math.random()),1);a[14]="4",a[19]=b.substr(3&a[19]|8,1),a[8]=a[13]=a[18]=a[23]="-";var d=a.join("");return d}function base64_decode(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;a+="";do e=j.indexOf(a.charAt(k++)),f=j.indexOf(a.charAt(k++)),g=j.indexOf(a.charAt(k++)),h=j.indexOf(a.charAt(k++)),i=e<<18|f<<12|g<<6|h,b=i>>16&255,c=i>>8&255,d=255&i,n[l++]=64==g?String.fromCharCode(b):64==h?String.fromCharCode(b,c):String.fromCharCode(b,c,d);while(k<a.length);return m=n.join("")}function base64_encode(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;do b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,n[l++]=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h);while(k<a.length);m=n.join("");var o=a.length%3;return(o?m.slice(0,o-3):m)+"===".slice(o||3)}function gmaps_remove_empty_values(a){for(var b in a){if(""===a[b]&&delete a[b],a[b]instanceof Array){for(var c=!0,d=0;d<a[b].length;d++)if(""!==a[b][d]){c=!1;break}c&&delete a[b]}if("object"==typeof a[b]){a[b]=gmaps_remove_empty_values(a[b]);var e=!1;for(var f in a[b]){e=!0;break}e||delete a[b]}}return a}if(function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=(d.unshift,e.toString),k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.2";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)},x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),arguments.length>2?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},x.find=x.detect=function(a,b,c){var d;return z(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var z=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){var c=!1;return null==a?c:s&&a.indexOf===s?-1!=a.indexOf(b):c=z(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2);return x.map(a,function(a){return(x.isFunction(b)?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b){return x.isEmpty(b)?[]:x.filter(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var A=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=A(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var B=function(a,b,c,d){var e={},f=A(b);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return B(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return B(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:A(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?a.length===+a.length?h.call(a):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,function(a){return!!a})};var C=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):C(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return C(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var D=function(){};x.bind=function(a,b){var c,d;if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return d=h.call(arguments,2),c=function(){if(!(this instanceof c))return a.apply(b,d.concat(h.call(arguments)));D.prototype=a.prototype;var e=new D,f=a.apply(e,d.concat(h.call(arguments)));return Object(f)===f?f:e}},x.bindAll=function(a){var b=h.call(arguments,1);return 0==b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=0;a>d;d++)b.call(c,d)},x.random=function(a,b){return null==b&&(b=a,a=0),a+(0|Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:new RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=H++;return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){c=x.defaults({},c,x.templateSettings);var d=new RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){f+=a.slice(e,h).replace(K,function(a){return"\\"+J[a]}),f+=c?"'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?"'+\n((__t=("+d+"))==null?'':__t)+\n'":g?"';\n"+g+"\n__p+='":"",e=h+b.length}),f+="';\n",c.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(c.variable||"obj","_",f)}catch(h){throw h.source=f,h}if(b)return g(b,x);var i=function(a){return g.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+f+"}",i},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),"object"!=typeof window.google||!window.google.maps)throw"Google Maps API is required. Please register the following JavaScript library http://maps.google.com/maps/api/js?sensor=true.";var extend_object=function(a,b){var c;if(a===b)return a;for(c in b)a[c]=b[c];return a},replace_object=function(a,b){var c;if(a===b)return a;for(c in b)void 0!=a[c]&&(a[c]=b[c]);return a},array_map=function(a,b){var c,d=Array.prototype.slice.call(arguments,2),e=[],f=a.length;if(Array.prototype.map&&a.map===Array.prototype.map)e=Array.prototype.map.call(a,function(a){return callback_params=d,callback_params.splice(0,0,a),b.apply(this,callback_params)});else for(c=0;f>c;c++)callback_params=d,callback_params.splice(0,0,a[c]),e.push(b.apply(this,callback_params));return e},array_flat=function(a){var b,c=[];for(b=0;b<a.length;b++)c=c.concat(a[b]);return c},coordsToLatLngs=function(a,b){var c=a[0],d=a[1];return b&&(c=a[1],d=a[0]),new google.maps.LatLng(c,d)},arrayToLatLng=function(a,b){var c;for(c=0;c<a.length;c++)a[c]instanceof google.maps.LatLng||(a[c]=a[c].length>0&&"object"==typeof a[c][0]?arrayToLatLng(a[c],b):coordsToLatLngs(a[c],b));return a},getElementById=function(a,b){var c,a=a.replace("#","");return c="jQuery"in this&&b?$("#"+a,b)[0]:document.getElementById(a)},findAbsolutePosition=function(a){var b=0,c=0;if(a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return[b,c]},GMaps=function(){"use strict";var a=document,b=function(c){if(!this)return new b(c);c.zoom=c.zoom||15,c.mapType=c.mapType||"roadmap";var d,e=this,f=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],g=["mousemove","mouseout","mouseover"],h=["el","lat","lng","mapType","width","height","markerClusterer","enableNewStyle"],i=c.el||c.div,j=c.markerClusterer,k=google.maps.MapTypeId[c.mapType.toUpperCase()],l=new google.maps.LatLng(c.lat,c.lng),m=c.zoomControl||!0,n=c.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},o=n.style||"DEFAULT",p=n.position||"TOP_LEFT",q=c.panControl||!0,r=c.mapTypeControl||!0,s=c.scaleControl||!0,t=c.streetViewControl||!0,u=u||!0,v={},w={zoom:this.zoom,center:l,mapTypeId:k},x={panControl:q,zoomControl:m,zoomControlOptions:{style:google.maps.ZoomControlStyle[o],position:google.maps.ControlPosition[p]},mapTypeControl:r,scaleControl:s,streetViewControl:t,overviewMapControl:u};if(this.el="string"==typeof c.el||"string"==typeof c.div?getElementById(i,c.context):i,"undefined"==typeof this.el||null===this.el)throw"No element defined.";for(window.context_menu=window.context_menu||{},window.context_menu[e.el.id]={},this.controls=[],this.overlays=[],this.layers=[],this.singleLayers={},this.markers=[],this.polylines=[],this.routes=[],this.polygons=[],this.infoWindow=null,this.overlay_el=null,this.zoom=c.zoom,this.registered_events={},this.el.style.width=c.width||this.el.scrollWidth||this.el.offsetWidth,this.el.style.height=c.height||this.el.scrollHeight||this.el.offsetHeight,google.maps.visualRefresh=c.enableNewStyle,d=0;d<h.length;d++)delete c[h[d]];for(1!=c.disableDefaultUI&&(w=extend_object(w,x)),v=extend_object(w,c),d=0;d<f.length;d++)delete v[f[d]];for(d=0;d<g.length;d++)delete v[g[d]];this.map=new google.maps.Map(this.el,v),j&&(this.markerClusterer=j.apply(this,[this.map]));var y=function(a,b){var c="",d=window.context_menu[e.el.id][a];for(var f in d)if(d.hasOwnProperty(f)){var g=d[f];c+='<li><a id="'+a+"_"+f+'" href="#">'+g.title+"</a></li>"}if(getElementById("gmaps_context_menu")){var h=getElementById("gmaps_context_menu");h.innerHTML=c;var f,i=h.getElementsByTagName("a"),j=i.length;for(f=0;j>f;f++){var k=i[f],l=function(c){c.preventDefault(),d[this.id.replace(a+"_","")].action.apply(e,[b]),e.hideContextMenu()};google.maps.event.clearListeners(k,"click"),google.maps.event.addDomListenerOnce(k,"click",l,!1)}var m=findAbsolutePosition.apply(this,[e.el]),n=m[0]+b.pixel.x-15,o=m[1]+b.pixel.y-15;h.style.left=n+"px",h.style.top=o+"px",h.style.display="block"}};this.buildContextMenu=function(a,b){if("marker"===a){b.pixel={};var c=new google.maps.OverlayView;c.setMap(e.map),c.draw=function(){var d=c.getProjection(),e=b.marker.getPosition();b.pixel=d.fromLatLngToContainerPixel(e),y(a,b)}}else y(a,b)},this.setContextMenu=function(b){window.context_menu[e.el.id][b.control]={};var c,d=a.createElement("ul");for(c in b.options)if(b.options.hasOwnProperty(c)){var f=b.options[c];window.context_menu[e.el.id][b.control][f.name]={title:f.title,action:f.action}}d.id="gmaps_context_menu",d.style.display="none",d.style.position="absolute",d.style.minWidth="100px",d.style.background="white",d.style.listStyle="none",d.style.padding="8px",d.style.boxShadow="2px 2px 6px #ccc",a.body.appendChild(d);var g=getElementById("gmaps_context_menu");google.maps.event.addDomListener(g,"mouseout",function(a){a.relatedTarget&&this.contains(a.relatedTarget)||window.setTimeout(function(){g.style.display="none"},400)},!1)},this.hideContextMenu=function(){var a=getElementById("gmaps_context_menu");a&&(a.style.display="none")};var z=function(a,b){google.maps.event.addListener(a,b,function(a){void 0==a&&(a=this),c[b].apply(this,[a]),e.hideContextMenu()})};google.maps.event.addListener(this.map,"zoom_changed",this.hideContextMenu);for(var A=0;A<f.length;A++){var B=f[A];B in c&&z(this.map,B)}for(var A=0;A<g.length;A++){var B=g[A];B in c&&z(this.map,B)}google.maps.event.addListener(this.map,"rightclick",function(a){c.rightclick&&c.rightclick.apply(this,[a]),void 0!=window.context_menu[e.el.id].map&&e.buildContextMenu("map",a)}),this.refresh=function(){google.maps.event.trigger(this.map,"resize")},this.fitZoom=function(){var a,b=[],c=this.markers.length;for(a=0;c>a;a++)"boolean"==typeof this.markers[a].visible&&this.markers[a].visible&&b.push(this.markers[a].getPosition());this.fitLatLngBounds(b)},this.fitLatLngBounds=function(a){var b,c=a.length,d=new google.maps.LatLngBounds;for(b=0;c>b;b++)d.extend(a[b]);this.map.fitBounds(d)},this.setCenter=function(a,b,c){this.map.panTo(new google.maps.LatLng(a,b)),c&&c()},this.getElement=function(){return this.el},this.zoomIn=function(a){a=a||1,this.zoom=this.map.getZoom()+a,this.map.setZoom(this.zoom)},this.zoomOut=function(a){a=a||1,this.zoom=this.map.getZoom()-a,this.map.setZoom(this.zoom)};var C,D=[];for(C in this.map)"function"!=typeof this.map[C]||this[C]||D.push(C);for(d=0;d<D.length;d++)!function(a,b,c){a[c]=function(){return b[c].apply(b,arguments)}}(this,this.map,D[d])};return b}(this);GMaps.prototype.createControl=function(a){var b=document.createElement("div");b.style.cursor="pointer",a.disableDefaultStyles!==!0&&(b.style.fontFamily="Roboto, Arial, sans-serif",b.style.fontSize="11px",b.style.boxShadow="rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px");for(var c in a.style)b.style[c]=a.style[c];a.id&&(b.id=a.id),a.classes&&(b.className=a.classes),a.content&&("string"==typeof a.content?b.innerHTML=a.content:a.content instanceof HTMLElement&&b.appendChild(a.content)),a.position&&(b.position=google.maps.ControlPosition[a.position.toUpperCase()]);for(var d in a.events)!function(b,c){google.maps.event.addDomListener(b,c,function(){a.events[c].apply(this,[this])})}(b,d);return b.index=1,b},GMaps.prototype.addControl=function(a){var b=this.createControl(a);return this.controls.push(b),this.map.controls[b.position].push(b),b},GMaps.prototype.removeControl=function(a){var b,c=null;for(b=0;b<this.controls.length;b++)this.controls[b]==a&&(c=this.controls[b].position,this.controls.splice(b,1));if(c)for(b=0;b<this.map.controls.length;b++){var d=this.map.controls[a.position];if(d.getAt(b)==a){d.removeAt(b);break}}return a},GMaps.prototype.createMarker=function(a){if(void 0==a.lat&&void 0==a.lng&&void 0==a.position)throw"No latitude or longitude defined.";var b=this,c=a.details,d=a.fences,e=a.outside,f={position:new google.maps.LatLng(a.lat,a.lng),map:null},g=extend_object(f,a);delete g.lat,delete g.lng,delete g.fences,delete g.outside;var h=new google.maps.Marker(g);if(h.fences=d,a.infoWindow){h.infoWindow=new google.maps.InfoWindow(a.infoWindow);for(var i=["closeclick","content_changed","domready","position_changed","zindex_changed"],j=0;j<i.length;j++)!function(b,c){a.infoWindow[c]&&google.maps.event.addListener(b,c,function(b){a.infoWindow[c].apply(this,[b])})}(h.infoWindow,i[j])}for(var k=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"],l=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"],j=0;j<k.length;j++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(){a[c].apply(this,[this])})}(h,k[j]);for(var j=0;j<l.length;j++)!function(b,c,d){a[d]&&google.maps.event.addListener(c,d,function(c){c.pixel||(c.pixel=b.getProjection().fromLatLngToPoint(c.latLng)),a[d].apply(this,[c])})}(this.map,h,l[j]);return google.maps.event.addListener(h,"click",function(){this.details=c,a.click&&a.click.apply(this,[this]),h.infoWindow&&(b.hideInfoWindows(),h.infoWindow.open(b.map,h))}),google.maps.event.addListener(h,"rightclick",function(c){c.marker=this,a.rightclick&&a.rightclick.apply(this,[c]),void 0!=window.context_menu[b.el.id].marker&&b.buildContextMenu("marker",c)}),h.fences&&google.maps.event.addListener(h,"dragend",function(){b.checkMarkerGeofence(h,function(a,b){e(a,b)})}),h},GMaps.prototype.addMarker=function(a){var b;if(a.hasOwnProperty("gm_accessors_"))b=a;else{if(!(a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")||a.position))throw"No latitude or longitude defined.";b=this.createMarker(a)}return b.setMap(this.map),this.markerClusterer&&this.markerClusterer.addMarker(b),this.markers.push(b),GMaps.fire("marker_added",b,this),b},GMaps.prototype.addMarkers=function(a){for(var b,c=0;b=a[c];c++)this.addMarker(b);return this.markers},GMaps.prototype.hideInfoWindows=function(){for(var a,b=0;a=this.markers[b];b++)a.infoWindow&&a.infoWindow.close()},GMaps.prototype.removeMarker=function(a){for(var b=0;b<this.markers.length;b++)if(this.markers[b]===a){this.markers[b].setMap(null),this.markers.splice(b,1),this.markerClusterer&&this.markerClusterer.removeMarker(a),GMaps.fire("marker_removed",a,this);break}return a},GMaps.prototype.removeMarkers=function(a){var b=[];if("undefined"==typeof a){for(var c=0;c<this.markers.length;c++){var d=this.markers[c];d.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(d),GMaps.fire("marker_removed",d,this)}this.markers=b}else{for(var c=0;c<a.length;c++){var e=this.markers.indexOf(a[c]);if(e>-1){var d=this.markers[e];d.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(d),GMaps.fire("marker_removed",d,this)}}for(var c=0;c<this.markers.length;c++){var d=this.markers[c];null!=d.getMap()&&b.push(d)}this.markers=b}},GMaps.prototype.drawOverlay=function(a){var b=new google.maps.OverlayView,c=!0;return b.setMap(this.map),null!=a.auto_show&&(c=a.auto_show),b.onAdd=function(){var c=document.createElement("div");c.style.borderStyle="none",c.style.borderWidth="0px",c.style.position="absolute",c.style.zIndex=100,c.innerHTML=a.content,b.el=c,a.layer||(a.layer="overlayLayer");var d=this.getPanes(),e=d[a.layer],f=["contextmenu","DOMMouseScroll","dblclick","mousedown"];e.appendChild(c);for(var g=0;g<f.length;g++)!function(a,b){google.maps.event.addDomListener(a,b,function(a){-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&document.all?(a.cancelBubble=!0,a.returnValue=!1):a.stopPropagation()})}(c,f[g]);a.click&&(d.overlayMouseTarget.appendChild(b.el),google.maps.event.addDomListener(b.el,"click",function(){a.click.apply(b,[b])})),google.maps.event.trigger(this,"ready")},b.draw=function(){var d=this.getProjection(),e=d.fromLatLngToDivPixel(new google.maps.LatLng(a.lat,a.lng));a.horizontalOffset=a.horizontalOffset||0,a.verticalOffset=a.verticalOffset||0;var f=b.el,g=f.children[0],h=g.clientHeight,i=g.clientWidth;switch(a.verticalAlign){case"top":f.style.top=e.y-h+a.verticalOffset+"px";break;default:case"middle":f.style.top=e.y-h/2+a.verticalOffset+"px";break;case"bottom":f.style.top=e.y+a.verticalOffset+"px"}switch(a.horizontalAlign){case"left":f.style.left=e.x-i+a.horizontalOffset+"px";break;default:case"center":f.style.left=e.x-i/2+a.horizontalOffset+"px";break;case"right":f.style.left=e.x+a.horizontalOffset+"px"}f.style.display=c?"block":"none",c||a.show.apply(this,[f])},b.onRemove=function(){var c=b.el;a.remove?a.remove.apply(this,[c]):(b.el.parentNode.removeChild(b.el),b.el=null)},this.overlays.push(b),b},GMaps.prototype.removeOverlay=function(a){for(var b=0;b<this.overlays.length;b++)if(this.overlays[b]===a){this.overlays[b].setMap(null),this.overlays.splice(b,1);break}},GMaps.prototype.removeOverlays=function(){for(var a,b=0;a=this.overlays[b];b++)a.setMap(null);this.overlays=[]},GMaps.prototype.drawPolyline=function(a){var b=[],c=a.path;if(c.length)if(void 0===c[0][0])b=c;else for(var d,e=0;d=c[e];e++)b.push(new google.maps.LatLng(d[0],d[1]));var f={map:this.map,path:b,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight,geodesic:a.geodesic,clickable:!0,editable:!1,visible:!0};a.hasOwnProperty("clickable")&&(f.clickable=a.clickable),a.hasOwnProperty("editable")&&(f.editable=a.editable),a.hasOwnProperty("icons")&&(f.icons=a.icons),a.hasOwnProperty("zIndex")&&(f.zIndex=a.zIndex);for(var g=new google.maps.Polyline(f),h=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],i=0;i<h.length;i++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(g,h[i]);return this.polylines.push(g),GMaps.fire("polyline_added",g,this),g},GMaps.prototype.removePolyline=function(a){for(var b=0;b<this.polylines.length;b++)if(this.polylines[b]===a){this.polylines[b].setMap(null),this.polylines.splice(b,1),GMaps.fire("polyline_removed",a,this);break}},GMaps.prototype.removePolylines=function(){for(var a,b=0;a=this.polylines[b];b++)a.setMap(null);this.polylines=[]},GMaps.prototype.drawCircle=function(a){a=extend_object({map:this.map,center:new google.maps.LatLng(a.lat,a.lng)},a),delete a.lat,delete a.lng;for(var b=new google.maps.Circle(a),c=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],d=0;d<c.length;d++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])
})}(b,c[d]);return this.polygons.push(b),b},GMaps.prototype.drawRectangle=function(a){a=extend_object({map:this.map},a);var b=new google.maps.LatLngBounds(new google.maps.LatLng(a.bounds[0][0],a.bounds[0][1]),new google.maps.LatLng(a.bounds[1][0],a.bounds[1][1]));a.bounds=b;for(var c=new google.maps.Rectangle(a),d=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],e=0;e<d.length;e++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(c,d[e]);return this.polygons.push(c),c},GMaps.prototype.drawPolygon=function(a){var b=!1;a.hasOwnProperty("useGeoJSON")&&(b=a.useGeoJSON),delete a.useGeoJSON,a=extend_object({map:this.map},a),0==b&&(a.paths=[a.paths.slice(0)]),a.paths.length>0&&a.paths[0].length>0&&(a.paths=array_flat(array_map(a.paths,arrayToLatLng,b)));for(var c=new google.maps.Polygon(a),d=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],e=0;e<d.length;e++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(c,d[e]);return this.polygons.push(c),GMaps.fire("polygon_added",c,this),c},GMaps.prototype.removePolygon=function(a){for(var b=0;b<this.polygons.length;b++)if(this.polygons[b]===a){this.polygons[b].setMap(null),this.polygons.splice(b,1),GMaps.fire("polygon_removed",a,this);break}},GMaps.prototype.removePolygons=function(){for(var a,b=0;a=this.polygons[b];b++)a.setMap(null);this.polygons=[]},GMaps.prototype.getFromFusionTables=function(a){var b=a.events;delete a.events;var c=a,d=new google.maps.FusionTablesLayer(c);for(var e in b)!function(a,c){google.maps.event.addListener(a,c,function(a){b[c].apply(this,[a])})}(d,e);return this.layers.push(d),d},GMaps.prototype.loadFromFusionTables=function(a){var b=this.getFromFusionTables(a);return b.setMap(this.map),b},GMaps.prototype.getFromKML=function(a){var b=a.url,c=a.events;delete a.url,delete a.events;var d=a,e=new google.maps.KmlLayer(b,d);for(var f in c)!function(a,b){google.maps.event.addListener(a,b,function(a){c[b].apply(this,[a])})}(e,f);return this.layers.push(e),e},GMaps.prototype.loadFromKML=function(a){var b=this.getFromKML(a);return b.setMap(this.map),b},GMaps.prototype.addLayer=function(a,b){b=b||{};var c;switch(a){case"weather":this.singleLayers.weather=c=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=c=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=c=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=c=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=c=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=c=new google.maps.panoramio.PanoramioLayer,c.setTag(b.filter),delete b.filter,b.click&&google.maps.event.addListener(c,"click",function(a){b.click(a),delete b.click});break;case"places":if(this.singleLayers.places=c=new google.maps.places.PlacesService(this.map),b.search||b.nearbySearch||b.radarSearch){var d={bounds:b.bounds||null,keyword:b.keyword||null,location:b.location||null,name:b.name||null,radius:b.radius||null,rankBy:b.rankBy||null,types:b.types||null};b.radarSearch&&c.radarSearch(d,b.radarSearch),b.search&&c.search(d,b.search),b.nearbySearch&&c.nearbySearch(d,b.nearbySearch)}if(b.textSearch){var e={bounds:b.bounds||null,location:b.location||null,query:b.query||null,radius:b.radius||null};c.textSearch(e,b.textSearch)}}return void 0!==c?("function"==typeof c.setOptions&&c.setOptions(b),"function"==typeof c.setMap&&c.setMap(this.map),c):void 0},GMaps.prototype.removeLayer=function(a){if("string"==typeof a&&void 0!==this.singleLayers[a])this.singleLayers[a].setMap(null),delete this.singleLayers[a];else for(var b=0;b<this.layers.length;b++)if(this.layers[b]===a){this.layers[b].setMap(null),this.layers.splice(b,1);break}};var travelMode,unitSystem;GMaps.prototype.getRoutes=function(a){switch(a.travelMode){case"bicycling":travelMode=google.maps.TravelMode.BICYCLING;break;case"transit":travelMode=google.maps.TravelMode.TRANSIT;break;case"driving":travelMode=google.maps.TravelMode.DRIVING;break;default:travelMode=google.maps.TravelMode.WALKING}unitSystem="imperial"===a.unitSystem?google.maps.UnitSystem.IMPERIAL:google.maps.UnitSystem.METRIC;var b={avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!1,waypoints:[]},c=extend_object(b,a);c.origin=/string/.test(typeof a.origin)?a.origin:new google.maps.LatLng(a.origin[0],a.origin[1]),c.destination=/string/.test(typeof a.destination)?a.destination:new google.maps.LatLng(a.destination[0],a.destination[1]),c.travelMode=travelMode,c.unitSystem=unitSystem,delete c.callback,delete c.error;var d=this,e=new google.maps.DirectionsService;e.route(c,function(b,c){if(c===google.maps.DirectionsStatus.OK){for(var e in b.routes)b.routes.hasOwnProperty(e)&&d.routes.push(b.routes[e]);a.callback&&a.callback(d.routes)}else a.error&&a.error(b,c)})},GMaps.prototype.removeRoutes=function(){this.routes=[]},GMaps.prototype.getElevations=function(a){a=extend_object({locations:[],path:!1,samples:256},a),a.locations.length>0&&a.locations[0].length>0&&(a.locations=array_flat(array_map([a.locations],arrayToLatLng,!1)));var b=a.callback;delete a.callback;var c=new google.maps.ElevationService;if(a.path){var d={path:a.locations,samples:a.samples};c.getElevationAlongPath(d,function(a,c){b&&"function"==typeof b&&b(a,c)})}else delete a.path,delete a.samples,c.getElevationForLocations(a,function(a,c){b&&"function"==typeof b&&b(a,c)})},GMaps.prototype.cleanRoute=GMaps.prototype.removePolylines,GMaps.prototype.drawRoute=function(a){var b=this;this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,unitSystem:a.unitSystem,error:a.error,callback:function(c){if(c.length>0){var d={path:c[c.length-1].overview_path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(d.icons=a.icons),b.drawPolyline(d),a.callback&&a.callback(c[c.length-1])}}})},GMaps.prototype.travelRoute=function(a){if(a.origin&&a.destination)this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,unitSystem:a.unitSystem,error:a.error,callback:function(b){if(b.length>0&&a.start&&a.start(b[b.length-1]),b.length>0&&a.step){var c=b[b.length-1];if(c.legs.length>0)for(var d,e=c.legs[0].steps,f=0;d=e[f];f++)d.step_number=f,a.step(d,c.legs[0].steps.length-1)}b.length>0&&a.end&&a.end(b[b.length-1])}});else if(a.route&&a.route.legs.length>0)for(var b,c=a.route.legs[0].steps,d=0;b=c[d];d++)b.step_number=d,a.step(b)},GMaps.prototype.drawSteppedRoute=function(a){var b=this;if(a.origin&&a.destination)this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,error:a.error,callback:function(c){if(c.length>0&&a.start&&a.start(c[c.length-1]),c.length>0&&a.step){var d=c[c.length-1];if(d.legs.length>0)for(var e,f=d.legs[0].steps,g=0;e=f[g];g++){e.step_number=g;var h={path:e.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(h.icons=a.icons),b.drawPolyline(h),a.step(e,d.legs[0].steps.length-1)}}c.length>0&&a.end&&a.end(c[c.length-1])}});else if(a.route&&a.route.legs.length>0)for(var c,d=a.route.legs[0].steps,e=0;c=d[e];e++){c.step_number=e;var f={path:c.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(f.icons=a.icons),b.drawPolyline(f),a.step(c)}},GMaps.Route=function(a){this.origin=a.origin,this.destination=a.destination,this.waypoints=a.waypoints,this.map=a.map,this.route=a.route,this.step_count=0,this.steps=this.route.legs[0].steps,this.steps_length=this.steps.length;var b={path:new google.maps.MVCArray,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(b.icons=a.icons),this.polyline=this.map.drawPolyline(b).getPath()},GMaps.Route.prototype.getRoute=function(a){var b=this;this.map.getRoutes({origin:this.origin,destination:this.destination,travelMode:a.travelMode,waypoints:this.waypoints||[],error:a.error,callback:function(){b.route=e[0],a.callback&&a.callback.call(b)}})},GMaps.Route.prototype.back=function(){if(this.step_count>0){this.step_count--;var a=this.route.legs[0].steps[this.step_count].path;for(var b in a)a.hasOwnProperty(b)&&this.polyline.pop()}},GMaps.Route.prototype.forward=function(){if(this.step_count<this.steps_length){var a=this.route.legs[0].steps[this.step_count].path;for(var b in a)a.hasOwnProperty(b)&&this.polyline.push(a[b]);this.step_count++}},GMaps.prototype.checkGeofence=function(a,b,c){return c.containsLatLng(new google.maps.LatLng(a,b))},GMaps.prototype.checkMarkerGeofence=function(a,b){if(a.fences)for(var c,d=0;c=a.fences[d];d++){var e=a.getPosition();this.checkGeofence(e.lat(),e.lng(),c)||b(a,c)}},GMaps.prototype.toImage=function(a){var a=a||{},b={};if(b.size=a.size||[this.el.clientWidth,this.el.clientHeight],b.lat=this.getCenter().lat(),b.lng=this.getCenter().lng(),this.markers.length>0){b.markers=[];for(var c=0;c<this.markers.length;c++)b.markers.push({lat:this.markers[c].getPosition().lat(),lng:this.markers[c].getPosition().lng()})}if(this.polylines.length>0){var d=this.polylines[0];b.polyline={},b.polyline.path=google.maps.geometry.encoding.encodePath(d.getPath()),b.polyline.strokeColor=d.strokeColor,b.polyline.strokeOpacity=d.strokeOpacity,b.polyline.strokeWeight=d.strokeWeight}return GMaps.staticMapURL(b)},GMaps.staticMapURL=function(a){function b(a,b){if("#"===a[0]&&(a=a.replace("#","0x"),b)){if(b=parseFloat(b),b=Math.min(1,Math.max(b,0)),0===b)return"0x00000000";b=(255*b).toString(16),1===b.length&&(b+=b),a=a.slice(0,8)+b}return a}var c,d=[],e=("file:"===location.protocol?"http:":location.protocol)+"//maps.googleapis.com/maps/api/staticmap";a.url&&(e=a.url,delete a.url),e+="?";var f=a.markers;delete a.markers,!f&&a.marker&&(f=[a.marker],delete a.marker);var g=a.styles;delete a.styles;var h=a.polyline;if(delete a.polyline,a.center)d.push("center="+a.center),delete a.center;else if(a.address)d.push("center="+a.address),delete a.address;else if(a.lat)d.push(["center=",a.lat,",",a.lng].join("")),delete a.lat,delete a.lng;else if(a.visible){var i=encodeURI(a.visible.join("|"));d.push("visible="+i)}var j=a.size;j?(j.join&&(j=j.join("x")),delete a.size):j="630x300",d.push("size="+j),a.zoom||a.zoom===!1||(a.zoom=15);var k=a.hasOwnProperty("sensor")?!!a.sensor:!0;delete a.sensor,d.push("sensor="+k);for(var l in a)a.hasOwnProperty(l)&&d.push(l+"="+a[l]);if(f)for(var m,n,o=0;c=f[o];o++){m=[],c.size&&"normal"!==c.size?(m.push("size:"+c.size),delete c.size):c.icon&&(m.push("icon:"+encodeURI(c.icon)),delete c.icon),c.color&&(m.push("color:"+c.color.replace("#","0x")),delete c.color),c.label&&(m.push("label:"+c.label[0].toUpperCase()),delete c.label),n=c.address?c.address:c.lat+","+c.lng,delete c.address,delete c.lat,delete c.lng;for(var l in c)c.hasOwnProperty(l)&&m.push(l+":"+c[l]);m.length||0===o?(m.push(n),m=m.join("|"),d.push("markers="+encodeURI(m))):(m=d.pop()+encodeURI("|"+n),d.push(m))}if(g)for(var o=0;o<g.length;o++){var p=[];g[o].featureType&&p.push("feature:"+g[o].featureType.toLowerCase()),g[o].elementType&&p.push("element:"+g[o].elementType.toLowerCase());for(var q=0;q<g[o].stylers.length;q++)for(var r in g[o].stylers[q]){var s=g[o].stylers[q][r];("hue"==r||"color"==r)&&(s="0x"+s.substring(1)),p.push(r+":"+s)}var t=p.join("|");""!=t&&d.push("style="+t)}if(h){if(c=h,h=[],c.strokeWeight&&h.push("weight:"+parseInt(c.strokeWeight,10)),c.strokeColor){var u=b(c.strokeColor,c.strokeOpacity);h.push("color:"+u)}if(c.fillColor){var v=b(c.fillColor,c.fillOpacity);h.push("fillcolor:"+v)}var w=c.path;if(w.join)for(var x,q=0;x=w[q];q++)h.push(x.join(","));else h.push("enc:"+w);h=h.join("|"),d.push("path="+encodeURI(h))}var y=window.devicePixelRatio||1;return d.push("scale="+y),d=d.join("&"),e+d},GMaps.prototype.addMapType=function(a,b){if(!b.hasOwnProperty("getTileUrl")||"function"!=typeof b.getTileUrl)throw"'getTileUrl' function required.";b.tileSize=b.tileSize||new google.maps.Size(256,256);var c=new google.maps.ImageMapType(b);this.map.mapTypes.set(a,c)},GMaps.prototype.addOverlayMapType=function(a){if(!a.hasOwnProperty("getTile")||"function"!=typeof a.getTile)throw"'getTile' function required.";var b=a.index;delete a.index,this.map.overlayMapTypes.insertAt(b,a)},GMaps.prototype.removeOverlayMapType=function(a){this.map.overlayMapTypes.removeAt(a)},GMaps.prototype.addStyle=function(a){var b=new google.maps.StyledMapType(a.styles,{name:a.styledMapName});this.map.mapTypes.set(a.mapTypeId,b)},GMaps.prototype.setStyle=function(a){this.map.setMapTypeId(a)},GMaps.prototype.createPanorama=function(a){return a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")||(a.lat=this.getCenter().lat(),a.lng=this.getCenter().lng()),this.panorama=GMaps.createPanorama(a),this.map.setStreetView(this.panorama),this.panorama},GMaps.createPanorama=function(a){var b=getElementById(a.el,a.context),c=new google.maps.StreetViewService,d=a.checkaround||50,e=null;a.position=new google.maps.LatLng(a.lat,a.lng),delete a.el,delete a.context,delete a.lat,delete a.lng,delete a.checkaround;for(var f=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],g=extend_object({visible:!0},a),h=0;h<f.length;h++)delete g[f[h]];c.getPanoramaByLocation(a.position,d,function(c,d){if(d==google.maps.StreetViewStatus.OK){g.position=c.location.latLng,e=new google.maps.StreetViewPanorama(b,g);for(var h=0;h<f.length;h++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(){a[c].apply(this)})}(e,f[h]);return e.setVisible(!0),e}return!1})},GMaps.prototype.on=function(a,b){return GMaps.on(a,this,b)},GMaps.prototype.off=function(a){GMaps.off(a,this)},GMaps.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"],GMaps.on=function(a,b,c){if(-1==GMaps.custom_events.indexOf(a))return b instanceof GMaps&&(b=b.map),google.maps.event.addListener(b,a,c);var d={handler:c,eventName:a};return b.registered_events[a]=b.registered_events[a]||[],b.registered_events[a].push(d),d},GMaps.off=function(a,b){-1==GMaps.custom_events.indexOf(a)?(b instanceof GMaps&&(b=b.map),google.maps.event.clearListeners(b,a)):b.registered_events[a]=[]},GMaps.fire=function(a,b,c){if(-1==GMaps.custom_events.indexOf(a))google.maps.event.trigger(b,a,Array.prototype.slice.apply(arguments).slice(2));else if(a in c.registered_events)for(var d=c.registered_events[a],e=0;e<d.length;e++)!function(a,b,c){a.apply(b,[c])}(d[e].handler,c,b)},GMaps.geolocate=function(a){var b=a.always||a.complete;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(c){a.success(c),b&&b()},function(c){a.error(c),b&&b()},a.options):(a.not_supported(),b&&b())},GMaps.geocode=function(a){this.geocoder=new google.maps.Geocoder;var b=a.callback;a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")&&(a.latLng=new google.maps.LatLng(a.lat,a.lng)),delete a.lat,delete a.lng,delete a.callback,this.geocoder.geocode(a,function(a,c){b(a,c)})},google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(){for(var a,b=new google.maps.LatLngBounds,c=this.getPaths(),d=0;d<c.getLength();d++){a=c.getAt(d);for(var e=0;e<a.getLength();e++)b.extend(a.getAt(e))}return b}),google.maps.Polygon.prototype.containsLatLng||(google.maps.Polygon.prototype.containsLatLng=function(a){var b=this.getBounds();if(null!==b&&!b.contains(a))return!1;for(var c=!1,d=this.getPaths().getLength(),e=0;d>e;e++)for(var f=this.getPaths().getAt(e),g=f.getLength(),h=g-1,i=0;g>i;i++){var j=f.getAt(i),k=f.getAt(h);(j.lng()<a.lng()&&k.lng()>=a.lng()||k.lng()<a.lng()&&j.lng()>=a.lng())&&j.lat()+(a.lng()-j.lng())/(k.lng()-j.lng())*(k.lat()-j.lat())<a.lat()&&(c=!c),h=i}return c}),google.maps.Circle.prototype.containsLatLng||(google.maps.Circle.prototype.containsLatLng=function(a){return google.maps.geometry?google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(),a)<=this.getRadius():!0}),google.maps.LatLngBounds.prototype.containsLatLng=function(a){return this.contains(a)},google.maps.Marker.prototype.setFences=function(a){this.fences=a},google.maps.Marker.prototype.addFence=function(a){this.fences.push(a)},google.maps.Marker.prototype.getId=function(){return this.__gm_id},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m",MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",MarkerClusterer.prototype.extend=function(a,b){return function(a){for(var b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])},MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var a,b=0;a=this.sizes[b];b++)this.styles_.push({url:this.imagePath_+(b+1)+"."+this.imageExtension_,height:a,width:a})},MarkerClusterer.prototype.fitMapToMarkers=function(){for(var a,b=this.getMarkers(),c=new google.maps.LatLngBounds,d=0;a=b[d];d++)c.extend(a.getPosition());this.map_.fitBounds(c)},MarkerClusterer.prototype.setStyles=function(a){this.styles_=a},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.setMaxZoom=function(a){this.maxZoom_=a},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.calculator_=function(a,b){for(var c=0,d=a.length,e=d;0!==e;)e=parseInt(e/10,10),c++;return c=Math.min(c,b),{text:d,index:c}},MarkerClusterer.prototype.setCalculator=function(a){this.calculator_=a},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.addMarkers=function(a,b){for(var c,d=0;c=a[d];d++)this.pushMarkerTo_(c);b||this.redraw()},MarkerClusterer.prototype.pushMarkerTo_=function(a){if(a.isAdded=!1,a.draggable){var b=this;google.maps.event.addListener(a,"dragend",function(){a.isAdded=!1,b.repaint()})}this.markers_.push(a)},MarkerClusterer.prototype.addMarker=function(a,b){this.pushMarkerTo_(a),b||this.redraw()},MarkerClusterer.prototype.removeMarker_=function(a){var b=-1;if(this.markers_.indexOf)b=this.markers_.indexOf(a);else for(var c,d=0;c=this.markers_[d];d++)if(c==a){b=d;break}return-1==b?!1:(a.setMap(null),this.markers_.splice(b,1),!0)},MarkerClusterer.prototype.removeMarker=function(a,b){var c=this.removeMarker_(a);return!b&&c?(this.resetViewport(),this.redraw(),!0):!1},MarkerClusterer.prototype.removeMarkers=function(a,b){for(var c,d=!1,e=0;c=a[e];e++){var f=this.removeMarker_(c);d=d||f}return!b&&d?(this.resetViewport(),this.redraw(),!0):void 0},MarkerClusterer.prototype.setReady_=function(a){this.ready_||(this.ready_=a,this.createClusters_())},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.getMap=function(){return this.map_},MarkerClusterer.prototype.setMap=function(a){this.map_=a},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(a){this.gridSize_=a},MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinClusterSize=function(a){this.minClusterSize_=a},MarkerClusterer.prototype.getExtendedBounds=function(a){var b=this.getProjection(),c=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),d=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),e=b.fromLatLngToDivPixel(c);e.x+=this.gridSize_,e.y-=this.gridSize_;var f=b.fromLatLngToDivPixel(d);f.x-=this.gridSize_,f.y+=this.gridSize_;var g=b.fromDivPixelToLatLng(e),h=b.fromDivPixelToLatLng(f);return a.extend(g),a.extend(h),a},MarkerClusterer.prototype.isMarkerInBounds_=function(a,b){return b.contains(a.getPosition())},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},MarkerClusterer.prototype.resetViewport=function(a){for(var b,c=0;b=this.clusters_[c];c++)b.remove();for(var d,c=0;d=this.markers_[c];c++)d.isAdded=!1,a&&d.setMap(null);this.clusters_=[]},MarkerClusterer.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var b,c=0;b=a[c];c++)b.remove()},0)},MarkerClusterer.prototype.redraw=function(){this.createClusters_()},MarkerClusterer.prototype.distanceBetweenPoints_=function(a,b){if(!a||!b)return 0;var c=6371,d=(b.lat()-a.lat())*Math.PI/180,e=(b.lng()-a.lng())*Math.PI/180,f=Math.sin(d/2)*Math.sin(d/2)+Math.cos(a.lat()*Math.PI/180)*Math.cos(b.lat()*Math.PI/180)*Math.sin(e/2)*Math.sin(e/2),g=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),h=c*g;return h},MarkerClusterer.prototype.addToClosestCluster_=function(a){for(var b,c=4e4,d=null,e=(a.getPosition(),0);b=this.clusters_[e];e++){var f=b.getCenter();if(f){var g=this.distanceBetweenPoints_(f,a.getPosition());c>g&&(c=g,d=b)}}if(d&&d.isMarkerInClusterBounds(a))d.addMarker(a);else{var b=new Cluster(this);b.addMarker(a),this.clusters_.push(b)}},MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var a,b=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),c=this.getExtendedBounds(b),d=0;a=this.markers_[d];d++)!a.isAdded&&this.isMarkerInBounds_(a,c)&&this.addToClosestCluster_(a)},Cluster.prototype.isMarkerAlreadyAdded=function(a){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(a);for(var b,c=0;b=this.markers_[c];c++)if(b==a)return!0;return!1},Cluster.prototype.addMarker=function(a){if(this.isMarkerAlreadyAdded(a))return!1;if(this.center_){if(this.averageCenter_){var b=this.markers_.length+1,c=(this.center_.lat()*(b-1)+a.getPosition().lat())/b,d=(this.center_.lng()*(b-1)+a.getPosition().lng())/b;this.center_=new google.maps.LatLng(c,d),this.calculateBounds_()}}else this.center_=a.getPosition(),this.calculateBounds_();a.isAdded=!0,this.markers_.push(a);var e=this.markers_.length;if(e<this.minClusterSize_&&a.getMap()!=this.map_&&a.setMap(this.map_),e==this.minClusterSize_)for(var f=0;e>f;f++)this.markers_[f].setMap(null);return e>=this.minClusterSize_&&a.setMap(null),this.updateIcon(),!0},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){for(var a,b=new google.maps.LatLngBounds(this.center_,this.center_),c=this.getMarkers(),d=0;a=c[d];d++)b.extend(a.getPosition());return b},Cluster.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)},Cluster.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.updateIcon=function(){var a=this.map_.getZoom(),b=this.markerClusterer_.getMaxZoom();if(b&&a>b)for(var c,d=0;c=this.markers_[d];d++)c.setMap(this.map_);else{if(this.markers_.length<this.minClusterSize_)return void this.clusterIcon_.hide();var e=this.markerClusterer_.getStyles().length,f=this.markerClusterer_.getCalculator()(this.markers_,e);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(f),this.clusterIcon_.show()}},ClusterIcon.prototype.triggerClusterClick=function(a){var b=this.cluster_.getMarkerClusterer();google.maps.event.trigger(b,"clusterclick",this.cluster_,a),b.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},ClusterIcon.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a),this.div_.innerHTML=this.sums_.text}var b=this.getPanes();b.overlayMouseTarget.appendChild(this.div_);var c=this,d=!1;google.maps.event.addDomListener(this.div_,"click",function(a){d||c.triggerClusterClick(a)}),google.maps.event.addDomListener(this.div_,"mousedown",function(){d=!1}),google.maps.event.addDomListener(this.div_,"mousemove",function(){d=!0})},ClusterIcon.prototype.getPosFromLatLng_=function(a){var b=this.getProjection().fromLatLngToDivPixel(a);return"object"==typeof this.iconAnchor_&&2===this.iconAnchor_.length?(b.x-=this.iconAnchor_[0],b.y-=this.iconAnchor_[1]):(b.x-=parseInt(this.width_/2,10),b.y-=parseInt(this.height_/2,10)),b},ClusterIcon.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+"px",this.div_.style.left=a.x+"px"}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a),this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.remove=function(){this.setMap(null)},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.setSums=function(a){this.sums_=a,this.text_=a.text,this.index_=a.index,this.div_&&(this.div_.innerHTML=a.text),this.useStyle()},ClusterIcon.prototype.useStyle=function(){var a=Math.max(0,this.sums_.index-1);a=Math.min(this.styles_.length-1,a);var b=this.styles_[a];this.url_=b.url,this.height_=b.height,this.width_=b.width,this.textColor_=b.textColor,this.anchor_=b.anchor,this.textSize_=b.textSize,this.backgroundPosition_=b.backgroundPosition,this.iconAnchor_=b.iconAnchor},ClusterIcon.prototype.setCenter=function(a){this.center_=a},ClusterIcon.prototype.createCss=function(a){var b=[];b.push("background-image:url("+this.url_+");");var c=this.backgroundPosition_?this.backgroundPosition_:"0 0";b.push("background-position:"+c+";"),"object"==typeof this.anchor_?(b.push("number"==typeof this.anchor_[0]&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?"height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;":"number"==typeof this.anchor_[0]&&this.anchor_[0]<0&&-this.anchor_[0]<this.height_?"height:"+this.height_+"px; line-height:"+(this.height_+this.anchor_[0])+"px;":"height:"+this.height_+"px; line-height:"+this.height_+"px;"),b.push("number"==typeof this.anchor_[1]&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?"width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;":"width:"+this.width_+"px; text-align:center;")):b.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var d=this.textColor_?this.textColor_:"black",e=this.textSize_?this.textSize_:11;return b.push("cursor:pointer; top:"+a.y+"px; left:"+a.x+"px; color:"+d+"; position:absolute; font-size:"+e+"px; font-family:Arial,sans-serif; font-weight:bold"),b.join("")},window.MarkerClusterer=MarkerClusterer,MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker,MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers,MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers,MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers,MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator,MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize,MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds,MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap,MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers,MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom,MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles,MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters,MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers,MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw,MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker,MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers,MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport,MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint,MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator,MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize,MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom,MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd,MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw,Cluster.prototype.getCenter=Cluster.prototype.getCenter,Cluster.prototype.getSize=Cluster.prototype.getSize,Cluster.prototype.getMarkers=Cluster.prototype.getMarkers,ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd,ClusterIcon.prototype.draw=ClusterIcon.prototype.draw,ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove,InfoBox.prototype=new google.maps.OverlayView,InfoBox.prototype.createInfoBoxDiv_=function(){var a,b,c,d=this,e=function(a){a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()},f=function(a){a.returnValue=!1,a.preventDefault&&a.preventDefault(),d.enableEventPropagation_||e(a)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(c=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-c.left-c.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],b=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0;a<b.length;a++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,b[a],e));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",f),google.maps.event.trigger(this,"domready")}},InfoBox.prototype.getCloseBoxImg_=function(){var a="";return""!==this.closeBoxURL_&&(a="<img",a+=" src='"+this.closeBoxURL_+"'",a+=" align=right",a+=" style='",a+=" position: relative;",a+=" cursor: pointer;",a+=" margin: "+this.closeBoxMargin_+";",a+="'>"),a},InfoBox.prototype.addClickHandler_=function(){var a;""!==this.closeBoxURL_?(a=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(a,"click",this.getCloseClickHandler_())):this.closeListener_=null},InfoBox.prototype.getCloseClickHandler_=function(){var a=this;return function(b){b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation(),google.maps.event.trigger(a,"closeclick"),a.close()
}},InfoBox.prototype.panBox_=function(a){var b,c,d=0,e=0;if(!a&&(b=this.getMap(),b instanceof google.maps.Map)){b.getBounds().contains(this.position_)||b.setCenter(this.position_),c=b.getBounds();var f=b.getDiv(),g=f.offsetWidth,h=f.offsetHeight,i=this.pixelOffset_.width,j=this.pixelOffset_.height,k=this.div_.offsetWidth,l=this.div_.offsetHeight,m=this.infoBoxClearance_.width,n=this.infoBoxClearance_.height,o=this.getProjection().fromLatLngToContainerPixel(this.position_);if(o.x<-i+m?d=o.x+i-m:o.x+k+i+m>g&&(d=o.x+k+i+m-g),this.alignBottom_?o.y<-j+n+l?e=o.y+j-n-l:o.y+j+n>h&&(e=o.y+j+n-h):o.y<-j+n?e=o.y+j-n:o.y+l+j+n>h&&(e=o.y+l+j+n-h),0!==d||0!==e){{b.getCenter()}b.panBy(d,e)}}},InfoBox.prototype.setBoxStyle_=function(){var a,b;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",b=this.boxStyle_;for(a in b)b.hasOwnProperty(a)&&(this.div_.style[a]=b[a]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},InfoBox.prototype.getBoxWidths_=function(){var a,b={top:0,bottom:0,left:0,right:0},c=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(a=c.ownerDocument.defaultView.getComputedStyle(c,""),a&&(b.top=parseInt(a.borderTopWidth,10)||0,b.bottom=parseInt(a.borderBottomWidth,10)||0,b.left=parseInt(a.borderLeftWidth,10)||0,b.right=parseInt(a.borderRightWidth,10)||0)):document.documentElement.currentStyle&&c.currentStyle&&(b.top=parseInt(c.currentStyle.borderTopWidth,10)||0,b.bottom=parseInt(c.currentStyle.borderBottomWidth,10)||0,b.left=parseInt(c.currentStyle.borderLeftWidth,10)||0,b.right=parseInt(c.currentStyle.borderRightWidth,10)||0),b},InfoBox.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var a=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=a.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(a.y+this.pixelOffset_.height)+"px":this.div_.style.top=a.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},InfoBox.prototype.setOptions=function(a){"undefined"!=typeof a.boxClass&&(this.boxClass_=a.boxClass,this.setBoxStyle_()),"undefined"!=typeof a.boxStyle&&(this.boxStyle_=a.boxStyle,this.setBoxStyle_()),"undefined"!=typeof a.content&&this.setContent(a.content),"undefined"!=typeof a.disableAutoPan&&(this.disableAutoPan_=a.disableAutoPan),"undefined"!=typeof a.maxWidth&&(this.maxWidth_=a.maxWidth),"undefined"!=typeof a.pixelOffset&&(this.pixelOffset_=a.pixelOffset),"undefined"!=typeof a.alignBottom&&(this.alignBottom_=a.alignBottom),"undefined"!=typeof a.position&&this.setPosition(a.position),"undefined"!=typeof a.zIndex&&this.setZIndex(a.zIndex),"undefined"!=typeof a.closeBoxMargin&&(this.closeBoxMargin_=a.closeBoxMargin),"undefined"!=typeof a.closeBoxURL&&(this.closeBoxURL_=a.closeBoxURL),"undefined"!=typeof a.infoBoxClearance&&(this.infoBoxClearance_=a.infoBoxClearance),"undefined"!=typeof a.isHidden&&(this.isHidden_=a.isHidden),"undefined"!=typeof a.visible&&(this.isHidden_=!a.visible),"undefined"!=typeof a.enableEventPropagation&&(this.enableEventPropagation_=a.enableEventPropagation),this.div_&&this.draw()},InfoBox.prototype.setContent=function(a){this.content_=a,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof a.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+a:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(a)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof a.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+a:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(a))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},InfoBox.prototype.setPosition=function(a){this.position_=a,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},InfoBox.prototype.setZIndex=function(a){this.zIndex_=a,this.div_&&(this.div_.style.zIndex=a),google.maps.event.trigger(this,"zindex_changed")},InfoBox.prototype.setVisible=function(a){this.isHidden_=!a,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},InfoBox.prototype.getContent=function(){return this.content_},InfoBox.prototype.getPosition=function(){return this.position_},InfoBox.prototype.getZIndex=function(){return this.zIndex_},InfoBox.prototype.getVisible=function(){var a;return a="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},InfoBox.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},InfoBox.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},InfoBox.prototype.open=function(a,b){var c=this;b&&(this.position_=b.getPosition(),this.moveListener_=google.maps.event.addListener(b,"position_changed",function(){c.setPosition(this.getPosition())})),this.setMap(a),this.div_&&this.panBox_()},InfoBox.prototype.close=function(){var a;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(a=0;a<this.eventListeners_.length;a++)google.maps.event.removeListener(this.eventListeners_[a]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)};var EE_GMAPS=EE_GMAPS||{};EE_GMAPS.jqueryLoaded=function(){"undefined"==typeof jQuery&&console.info("GMAPS ERROR: jQuery is not loaded. Make sure Jquery is loaded before Gmaps is called")}(),function(a){EE_GMAPS.def={},EE_GMAPS.vars={},EE_GMAPS.def.lat=EE_GMAPS.def.Lat=-12.043333,EE_GMAPS.def.lng=EE_GMAPS.def.Lng=-77.028333,EE_GMAPS.def.circle={fit_circle:!0,stroke_color:"#BBD8E9",stroke_opacity:1,stroke_weight:3,fill_color:"#BBD8E9",fill_opacity:.6,radius:1e3};var b=["polylines","polygons","circles","rectangles","markers"];a.each(b,function(a,b){EE_GMAPS[b]=[]}),EE_GMAPS.markers_address_based={},EE_GMAPS.markers_key_based={},EE_GMAPS.latlngs=[],EE_GMAPS._map_=[],EE_GMAPS.fitTheMap=!1;var c=[];EE_GMAPS.runAll=function(){for(var a=c.length,b=0;a>b;b++)c[b].call()},EE_GMAPS.ready=function(a){c.push(a)},EE_GMAPS.cacheLists=function(b){a.each(b,function(b,c){var d=google.maps[c],e={};a.each(d,function(a,b){e[b]=a}),EE_GMAPS[c]=d,EE_GMAPS[c+"I"]=e})},EE_GMAPS.cacheLists(["MapTypeControlStyle","ControlPosition"]),EE_GMAPS.setGeocoding=function(b){var b=a.extend({selector:"",map_type:"",map_types:[],input_address:[],address:[],latlng:[],keys:[],zoom:"",zoom_override:!1,center:"",width:"",height:"",loader:"",marker:[],"static":!0,scroll_wheel:!0,zoom_control:!0,zoom_control_style:"",zoom_control_position:"",pan_control:!0,pan_control_position:"",map_type_control:!0,map_type_control_style:"",map_type_control_position:"",scale_control:!0,street_view_control:!0,street_view_control_position:"",show_elevation:!1,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",circle:{circle:[],fit_circle:!0,stroke_color:b.stroke_color,stroke_opacity:b.stroke_opacity,stroke_weight:b.stroke_weight,fill_color:b.fill_color,fill_opacity:b.fill_opacity,radius:b.radius},hidden_div:"",enable_new_style:!0,overlay_html:"",overlay_position:""},b);if(b.address=EE_GMAPS.parseToJsArray(b.address),b.input_address=EE_GMAPS.parseToJsArray(b.input_address),b.latlng=EE_GMAPS.parseToJsArray(b.latlng),b.keys=EE_GMAPS.parseToJsArray(b.keys),b.center=EE_GMAPS.parseToJsArray(b.center),a(b.selector).css({width:b.width,height:b.height}),b["static"])return EE_GMAPS.setStaticMap({selector:b.selector,latlng:b.latlng,map_type:b.map_type,width:b.width.match("%")?"":b.width,height:b.height.match("%")?"":b.height,zoom:b.zoom,marker:b.marker.show}),!0;var c,d=[],e=new google.maps.LatLngBounds,f=EE_GMAPS.arrayToLatLng(EE_GMAPS.cleanArray(b.latlng));EE_GMAPS._map_[b.selector]=c=new GMaps({el:b.selector,width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},zoom:b.zoom,lat:f[0].lat(),lng:f[0].lng(),mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style}),EE_GMAPS.addCustomMapTypes(c,b.map_types),EE_GMAPS.addCustomMapType(c,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,c),EE_GMAPS.setTraffic(b.show_traffic,c),EE_GMAPS.setTransit(b.show_transit,c),EE_GMAPS.setBicycling(b.show_bicycling,c),EE_GMAPS.setWeather(b.show_weather,c),EE_GMAPS.setPaoramio(b.show_panoramio,c,{tag:b.panoramio_tag});var g,h;if(a.each(f,function(a,i){var j=(b.address[a]?b.address[a]:"",b.address[a]?b.address[a]:i.toString().replace("(","").replace(")",""));if(h=b.marker.show_title?void 0==b.marker.title[a]?j:b.marker.title[a]:null,b.marker.show)if(g=EE_GMAPS.setMarkerIcon(b.marker.icon,b.marker.icon_default,a),marker_icon_shadow=EE_GMAPS.setMarkerIcon(b.marker.icon_shadow,b.marker.icon_default_shadow,a),marker_icon_shape=EE_GMAPS.setMarkerShape(b.marker.icon_shape,b.marker.icon_shape_default,a),b.show_elevation)c.getElevations({locations:EE_GMAPS.createlatLngArray([i]),callback:function(d,e){if(e==google.maps.ElevationStatus.OK){var k;b.marker.custom_html.length>0?(k=EE_GMAPS.setInfowindowContent(b.marker.custom_html[a],{elevation:d[0].elevation.toFixed(2),location:j},i),c.drawOverlay({lat:i.lat(),lng:i.lng(),content:k,verticalAlign:b.marker.custom_html_vertical_align,horizontalAlign:b.marker.custom_html_vertical_align}),b.marker.custom_html_show_marker&&c.addMarker(EE_GMAPS.cleanObject({lat:i.lat(),lng:i.lng(),title:h,label:void 0!=b.marker.label[a]?b.marker.label[a]:null,icon:g,shadow:marker_icon_shadow,shape:marker_icon_shape,animation:b.marker.animation?google.maps.Animation.DROP:null}))):(b.marker.html.length>0&&(tmp_marker_html_nr=b.marker.html[a]?a:0,b.address[a]?(k=EE_GMAPS.setInfowindowContent(b.marker.html[tmp_marker_html_nr],{elevation:d[0].elevation.toFixed(2),location:j},i),null===k&&(k=EE_GMAPS.setInfowindowContent(b.marker.html_default,{elevation:d[0].elevation.toFixed(2),location:j},i))):(k=EE_GMAPS.setInfowindowContent(b.marker.html[tmp_marker_html_nr],{elevation:d[0].elevation.toFixed(2)},i),null===k&&(k=EE_GMAPS.setInfowindowContent(b.marker.html_default,{elevation:d[0].elevation.toFixed(2)},i)))),c.addMarker(EE_GMAPS.cleanObject({lat:i.lat(),lng:i.lng(),title:h,label:void 0!=b.marker.label[a]?b.marker.label[a]:null,icon:g,shadow:marker_icon_shadow,shape:marker_icon_shape,animation:b.marker.animation?google.maps.Animation.DROP:null,infoWindow:{content:k}})),EE_GMAPS.addInfobox(b,c,c.markers[a],a)),1==f.length&&b.marker.open_by_default&&google.maps.event.trigger(c.markers[0],"click")}}});else if(b.marker.custom_html.length>0)c.drawOverlay({lat:i.lat(),lng:i.lng(),content:EE_GMAPS.setInfowindowContent(b.marker.custom_html[a],{location:j},i),verticalAlign:b.marker.custom_html_vertical_align,horizontalAlign:b.marker.custom_html_vertical_align}),b.marker.custom_html_show_marker&&c.addMarker(EE_GMAPS.cleanObject({lat:i.lat(),lng:i.lng(),title:h,label:void 0!=b.marker.label[a]?b.marker.label[a]:null,icon:g,shadow:marker_icon_shadow,shape:marker_icon_shape,animation:b.marker.animation?google.maps.Animation.DROP:null}));else{var k=EE_GMAPS.setInfowindowContent(b.marker.html[a],{location:j},i);null===k&&(k=EE_GMAPS.setInfowindowContent(b.marker.html_default,{location:j},i)),c.addMarker(EE_GMAPS.cleanObject({lat:i.lat(),lng:i.lng(),title:h,label:void 0!=b.marker.label[a]?b.marker.label[a]:null,icon:g,shadow:marker_icon_shadow,shape:marker_icon_shape,animation:b.marker.animation?google.maps.Animation.DROP:null,infoWindow:{content:k}})),EE_GMAPS.addInfobox(b,c,c.markers[a],a),1==f.length&&b.marker.open_by_default&&google.maps.event.trigger(c.markers[0],"click")}(b.circle.circle[a]||"all"==b.circle.circle[0])&&(d[a]=c.drawCircle({strokeColor:b.circle.stroke_color[a]?b.circle.stroke_color[a]:EE_GMAPS.def.circle.stroke_color,strokeOpacity:b.circle.stroke_opacity[a]?b.circle.stroke_opacity[a]:EE_GMAPS.def.circle.stroke_opacity,strokeWeight:b.circle.stroke_weight[a]?b.circle.stroke_weight[a]:EE_GMAPS.def.circle.stroke_weight,fillColor:b.circle.fill_color[a]?b.circle.fill_color[a]:EE_GMAPS.def.circle.fill_color,fillOpacity:b.circle.fill_opacity[a]?b.circle.fill_opacity[a]:EE_GMAPS.def.circle.fill_opacity,radius:b.circle.radius[a]?parseInt(b.circle.radius[a]):EE_GMAPS.def.circle.radius,lat:i.lat(),lng:i.lng()}),e.union(d[a].getBounds()))}),b.marker.show_cluster){new MarkerClusterer(c.map,c.markers,{gridSize:b.marker.cluster_grid_size,maxZoom:10,styles:b.marker.cluster_style,imagePath:EE_GMAPS.theme_path+"images/cluster/m"})}if(d.length>0)b.circle.fit_circle&&c.fitBounds(e);else if(void 0!=b.center&&""!=b.center){b.center=b.center.toString().split(",");var i=EE_GMAPS.arrayToLatLng(EE_GMAPS.cleanArray([b.center]));c.setCenter(i[0].lat(),i[0].lng()),c.setZoom(b.zoom)}else b.zoom_override?c.setZoom(b.zoom):f.length>1&&c.fitLatLngBounds(f);EE_GMAPS.addGoogleOverlay(c,b),b.focus_current_location&&EE_GMAPS.geolocate(function(a){c.setCenter(a.coords.latitude,a.coords.longitude)}),a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){c.refresh()}),EE_GMAPS.saveMarkers(b.selector,c.markers,b.input_address,b.keys)},EE_GMAPS.setGeolocation=function(b){var b=a.extend({selector:"",width:"",zoom:"",map_type:"",map_types:[],height:"",marker:[],scroll_wheel:!0,zoom_control:!0,pan_control:!0,map_type_control:!0,scale_control:!0,street_view_control:!0,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",hidden_div:"",enable_new_style:!0},b);a(b.selector).css({width:b.width,height:b.height});var c;EE_GMAPS._map_[b.selector]=c=new GMaps({el:b.selector,zoom:1,lat:EE_GMAPS.def.lat,lng:EE_GMAPS.def.lng,width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style}),EE_GMAPS.addCustomMapTypes(c,b.map_types),EE_GMAPS.addCustomMapType(c,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,c),EE_GMAPS.setTraffic(b.show_traffic,c),EE_GMAPS.setTransit(b.show_transit,c),EE_GMAPS.setBicycling(b.show_bicycling,c),EE_GMAPS.setWeather(b.show_weather,c),EE_GMAPS.setPaoramio(b.show_panoramio,c);var d=EE_GMAPS.setMarkerIcon(b.marker.icon),e=EE_GMAPS.setMarkerIcon(b.marker.icon_shadow),f=EE_GMAPS.setMarkerShape(b.marker.icon_shape);GMaps.geolocate({success:function(a){c.setCenter(a.coords.latitude,a.coords.longitude),c.setZoom(b.zoom),GMaps.geocode({lat:a.coords.latitude,lng:a.coords.longitude,callback:function(g){if(b.marker.show)if(""!=b.marker.custom_html)c.drawOverlay({lat:a.coords.latitude,lng:a.coords.longitude,content:EE_GMAPS.setInfowindowContent(b.marker.custom_html,{location:g[0].formatted_address},g[0].geometry.location),verticalAlign:b.marker.custom_html_vertical_align,horizontalAlign:b.marker.custom_html_vertical_align}),b.marker.custom_html_show_marker&&c.addMarker(EE_GMAPS.cleanObject({lat:a.coords.latitude,lng:a.coords.longitude,icon:d,shadow:e,shape:f,animation:b.marker.animation?google.maps.Animation.DROP:null,title:b.marker.show_title?g[0].formatted_address:null}));else{var h=EE_GMAPS.setInfowindowContent(b.marker.html,{location:g[0].formatted_address},g[0].geometry.location);null===h&&(h=EE_GMAPS.setInfowindowContent(b.marker.html_default,{location:g[0].formatted_address},g[0].geometry.location)),c.addMarker(EE_GMAPS.cleanObject({lat:a.coords.latitude,lng:a.coords.longitude,icon:d,shadow:e,shape:f,animation:b.marker.animation?google.maps.Animation.DROP:null,title:b.marker.show_title?g[0].formatted_address:null,infoWindow:{content:h}})),EE_GMAPS.addInfobox(b,c,c.markers[0],0),b.marker.open_by_default&&google.maps.event.trigger(c.markers[0],"click")}}})},error:function(a){alert("Geolocation failed: "+a.message)},not_supported:function(){alert("Your browser does not support geolocation")},always:function(){}}),a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){c.refresh()}),EE_GMAPS.addGoogleOverlay(c,b),EE_GMAPS.saveMarkers(b.selector,c.markers)},EE_GMAPS.setRoute=function(b){var b=a.extend({selector:"",from_address:"",from_latlng:"",to_address:"",to_latlng:"",stops_addresses:"",stops_latlng:"",map_type:"",map_types:[],travel_mode:"driving",departure_time:new Date,arrival_time:null,stroke_color:"#131540",stroke_opacity:.6,stroke_weight:6,marker:[],width:"",height:"",scroll_wheel:!0,zoom_control:!0,pan_control:!0,map_type_control:!0,scale_control:!0,street_view_control:!0,show_details:!1,show_details_per_step:!1,details_per_step_template:"",details_template:"",show_elevation:!1,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",hidden_div:"",enable_new_style:!0},b);a(b.selector).css({width:b.width,height:b.height}),b.from_address=EE_GMAPS.parseToJsArray(b.from_address,!1),b.from_latlng=EE_GMAPS.parseToJsArray(b.from_latlng,!1),b.to_address=EE_GMAPS.parseToJsArray(b.to_address,!1),b.to_latlng=EE_GMAPS.parseToJsArray(b.to_latlng,!1),b.stops_addresses=EE_GMAPS.parseToJsArray(b.stops_addresses),b.stops_latlng=EE_GMAPS.parseToJsArray(b.stops_latlng);var c;EE_GMAPS._map_[b.selector]=c=new GMaps({el:b.selector,lat:EE_GMAPS.def.lat,lng:EE_GMAPS.def.lng,zoom:1,width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style}),EE_GMAPS.addCustomMapTypes(c,b.map_types),EE_GMAPS.addCustomMapType(c,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,c),EE_GMAPS.setTraffic(b.show_traffic,c),EE_GMAPS.setTransit(b.show_transit,c),EE_GMAPS.setBicycling(b.show_bicycling,c),EE_GMAPS.setWeather(b.show_weather,c),EE_GMAPS.setPaoramio(b.show_panoramio,c);var d=EE_GMAPS.stringToLatLng(b.from_latlng),e=EE_GMAPS.arrayToLatLng(EE_GMAPS.cleanArray(b.stops_latlng)),f=EE_GMAPS.stringToLatLng(b.to_latlng),g=[d].concat(e);g.push(f);var h=[b.from_address].concat(b.stops_addresses);h.push(b.to_address);var i=g.gmaps_clone(),j=EE_GMAPS.createWaypoints(e),k={departureTime:b.departure_time,arrivalTime:b.arrival_time},l=EE_GMAPS.setMarkerIcon(b.marker.icon,b.marker.icon_default,0),m=EE_GMAPS.setMarkerIcon(b.marker.icon_shadow,b.marker.icon_default_shadow,0),n=EE_GMAPS.setMarkerShape(b.marker.icon_shape,b.marker.icon_shape_default,0);c.drawSteppedRoute({origin:[d.lat(),d.lng()],destination:[f.lat(),f.lng()],waypoints:j,travelMode:b.travel_mode,transitOptions:k,strokeColor:b.stroke_color,strokeOpacity:b.stroke_opacity,strokeWeight:b.stroke_weight,start:function(d){b.show_elevation&&google.load("visualization","1",{packages:["columnchart"],callback:function(){var e=b.selector+"_chart";a(e).width(b.width),chart=new google.visualization.ColumnChart(document.getElementById(e.replace("#","")));var f=EE_GMAPS.createlatLngArray(d.overview_path);c.getElevations({path:!0,locations:f,callback:function(a,d){if(d==google.maps.ElevationStatus.OK){elevations=a;var e=new google.visualization.DataTable;e.addColumn("string","Sample"),e.addColumn("number","Elevation");for(var g=0;g<a.length;g++)e.addRow(["",elevations[g].elevation]);chart.draw(e,{width:b.width,height:b.height/2,legend:"none",titleY:"Elevation (m)",colors:[b.stroke_color]});var h;google.visualization.events.addListener(chart,"onmouseover",function(a){null==h?void 0!=f[a.row]&&(h=c.addMarker(EE_GMAPS.cleanObject({lat:f[a.row].lat(),lng:f[a.row].lng()}))):h.setPosition(elevations[a.row].location)})}}})}})},step:function(d){if(b.show_details){var e=b.details_per_step_template;e=e.replace("[instructions]",d.instructions).replace("[distance]",d.distance.text).replace("[duration]",d.duration.text),d.transit&&(e=e.replace("[arrival_stop]",d.transit.arrival_stop).replace("[arrival_time]",d.transit.arrival_time).replace("[departure_stop]",d.transit.departure_stop).replace("[departure_time]",d.transit.departure_time).replace("[headsign]",d.transit.headsign).replace("[num_stops]",d.transit.num_stops).replace("[name]",d.transit.line.name).replace("[vehicle_icon]",d.transit.line.vehicle.icon).replace("[vehicle_name]",d.transit.line.vehicle.name).replace("[vehicle_type]",d.transit.line.vehicle.type)),a(b.selector+"_details_per_step").append('<li style="cursor:pointer;" rel="'+d.step_number+'">'+e+"</li>"),b.show_details_per_step&&a(b.selector+'_details_per_step li[rel="'+d.step_number+'"]').click(function(){a(b.selector+"_details_per_step li").removeClass("active"),a(this).addClass("active"),c.fitLatLngBounds(d.lat_lngs),c.removeMarkers(),c.addMarker(EE_GMAPS.cleanObject({lat:d.lat_lngs[0].lat(),lng:d.lat_lngs[0].lng(),animation:b.marker.animation?google.maps.Animation.DROP:null})),c.addMarker(EE_GMAPS.cleanObject({lat:d.lat_lngs[d.lat_lngs.length-1].lat(),lng:d.lat_lngs[d.lat_lngs.length-1].lng(),animation:b.marker.animation?google.maps.Animation.DROP:null}))})}},end:function(d){if(c.fitLatLngBounds(d.overview_path),b.show_details&&d.legs[0]){var e=b.details_template;e=e.replace("[distance]",d.legs[0].distance.text).replace("[duration]",d.legs[0].duration.text).replace("[end_address]",d.legs[0].end_address).replace("[start_address]",d.legs[0].start_address),a(b.selector+"_details").append(e)}},error:function(){console.log("Route cannot be generated")}}),c.fitLatLngBounds(i),b.marker.show&&a.each(i,function(a,d){l=EE_GMAPS.setMarkerIcon(b.marker.icon,b.marker.icon_default,a),m=EE_GMAPS.setMarkerIcon(b.marker.icon_shadow,b.marker.icon_default_shadow,a),n=EE_GMAPS.setMarkerShape(b.marker.icon_shape,b.marker.icon_shape_default,a);var e=h[a]?h[a]:d.toString().replace("(","").replace(")","");c.addMarker(EE_GMAPS.cleanObject({lat:d.lat(),lng:d.lng(),title:b.marker.show_title?e:null,icon:l,shadow:m,shape:n,animation:b.marker.animation?google.maps.Animation.DROP:null}))}),a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){c.refresh()}),EE_GMAPS.addGoogleOverlay(c,b),b.focus_current_location&&EE_GMAPS.geolocate(function(a){c.setCenter(a.coords.latitude,a.coords.longitude)}),EE_GMAPS.saveMarkers(b.selector,c.markers)},EE_GMAPS.setPolygon=function(b){var b=a.extend({selector:"",address:"",latlng:"",json:"",map_type:"",map_types:[],width:"",height:"",stroke_color:"",stroke_opacity:"",stroke_weight:"",fill_color:"",fill_opacity:"",marker:[],"static":!0,scroll_wheel:!0,zoom_control:!0,pan_control:!0,map_type_control:!0,scale_control:!0,street_view_control:!0,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",hidden_div:"",enable_new_style:!0},b);if(a(b.selector).css({width:b.width,height:b.height}),b.address=EE_GMAPS.parseToJsArray(b.address),b.latlng=EE_GMAPS.parseToJsArray(b.latlng),b["static"])return EE_GMAPS.setStaticMap({selector:b.selector,latlng:b.latlng,map_type:b.map_type,width:b.width,height:b.height,zoom:b.zoom,marker:b.marker,polygon:!0,stroke_color:b.stroke_color,stroke_opacity:b.stroke_opacity,stroke_weight:b.stroke_weight,fill_color:b.fill_color,fill_opacity:b.fill_opacity}),!0;var c,d=EE_GMAPS.setMarkerIcon(b.marker.icon),e=EE_GMAPS.setMarkerIcon(b.marker.icon_shadow),f=EE_GMAPS.setMarkerShape(b.marker.icon_shape);EE_GMAPS._map_[b.selector]=c=new GMaps({el:b.selector,width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},lat:EE_GMAPS.def.lat,lng:EE_GMAPS.def.lng,zoom:1,mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style}),EE_GMAPS.addCustomMapTypes(c,b.map_types),EE_GMAPS.addCustomMapType(c,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,c),EE_GMAPS.setTraffic(b.show_traffic,c),EE_GMAPS.setTransit(b.show_transit,c),EE_GMAPS.setBicycling(b.show_bicycling,c),EE_GMAPS.setWeather(b.show_weather,c),EE_GMAPS.setPaoramio(b.show_panoramio,c);var g=EE_GMAPS.arrayToLatLng(EE_GMAPS.cleanArray(b.latlng));if(g.length>0){var h=!1,i=[];a.each(g,function(a,b){i.push([b.lat(),b.lng()])})}else if(""!=b.json)var h=!0,i=JSON.parse(b.json);var j=c.drawPolygon({paths:i,useGeoJSON:h,strokeColor:b.stroke_color,strokeOpacity:b.stroke_opacity,strokeWeight:b.stroke_weight,fillColor:b.fill_color,fillOpacity:b.fill_opacity});c.fitBounds(j.getBounds()),b.marker.show&&a.each(g,function(a,g){var h=b.address[a]?b.address[a]:g.toString().replace("(","").replace(")","");c.addMarker(EE_GMAPS.cleanObject({lat:g.lat(),lng:g.lng(),title:b.marker.show_title?h:null,icon:d,shadow:e,shape:f,animation:b.marker.animation?google.maps.Animation.DROP:null}))}),a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){c.refresh()}),EE_GMAPS.addGoogleOverlay(c,b),b.focus_current_location&&EE_GMAPS.geolocate(function(a){c.setCenter(a.coords.latitude,a.coords.longitude)}),EE_GMAPS.saveMarkers(b.selector,c.markers)},EE_GMAPS.setPolyline=function(b){var b=a.extend({selector:"",address:"",latlng:"",json:"",map_type:"",map_types:[],width:"",height:"",stroke_color:"",stroke_opacity:"",stroke_weight:"",marker:[],"static":!0,scroll_wheel:!0,zoom_control:!0,pan_control:!0,map_type_control:!0,scale_control:!0,street_view_control:!0,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",hidden_div:"",enable_new_style:!0},b);if(a(b.selector).css({width:b.width,height:b.height}),b.address=EE_GMAPS.parseToJsArray(b.address),b.latlng=EE_GMAPS.parseToJsArray(b.latlng),b["static"])return EE_GMAPS.setStaticMap({selector:b.selector,latlng:b.latlng,map_type:b.map_type,width:b.width,height:b.height,zoom:b.zoom,marker:b.marker,polygon:!0,stroke_color:b.stroke_color,stroke_opacity:b.stroke_opacity,stroke_weight:b.stroke_weight,fill_color:b.fill_color,fill_opacity:b.fill_opacity}),!0;var c,d=EE_GMAPS.setMarkerIcon(b.marker.icon),e=EE_GMAPS.setMarkerIcon(b.marker.icon_shadow),f=EE_GMAPS.setMarkerShape(b.marker.icon_shape);EE_GMAPS._map_[b.selector]=c=new GMaps({el:b.selector,width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},lat:EE_GMAPS.def.lat,lng:EE_GMAPS.def.lng,zoom:1,mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style}),EE_GMAPS.addCustomMapTypes(c,b.map_types),EE_GMAPS.addCustomMapType(c,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,c),EE_GMAPS.setTraffic(b.show_traffic,c),EE_GMAPS.setTransit(b.show_transit,c),EE_GMAPS.setBicycling(b.show_bicycling,c),EE_GMAPS.setWeather(b.show_weather,c),EE_GMAPS.setPaoramio(b.show_panoramio,c);var g=EE_GMAPS.arrayToLatLng(EE_GMAPS.cleanArray(b.latlng)),h=[];a.each(g,function(a,b){h.push([b.lat(),b.lng()])});var i=c.drawPolyline({path:h,strokeColor:b.stroke_color,strokeOpacity:b.stroke_opacity,strokeWeight:b.stroke_weight});c.fitBounds(i.getBounds()),b.marker.show&&a.each(g,function(a,g){var h=b.address[a]?b.address[a]:g.toString().replace("(","").replace(")","");c.addMarker(EE_GMAPS.cleanObject({lat:g.lat(),lng:g.lng(),title:b.marker.show_title?h:null,icon:d,shadow:e,shape:f,animation:b.marker.animation?google.maps.Animation.DROP:null}))}),EE_GMAPS.vars.polylineLenght=google.maps.geometry.spherical.computeLength(i.getPath()),a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){c.refresh()}),EE_GMAPS.addGoogleOverlay(c,b),b.focus_current_location&&EE_GMAPS.geolocate(function(a){c.setCenter(a.coords.latitude,a.coords.longitude)}),EE_GMAPS.saveMarkers(b.selector,c.markers)},EE_GMAPS.setCircle=function(b){var b=a.extend({selector:"",address:"",latlng:"",map_type:"",map_types:[],width:"",height:"",marker:[],zoom:"",fit_circle:"",stroke_color:b.stroke_color,stroke_opacity:b.stroke_opacity,stroke_weight:b.stroke_weight,fill_color:b.fill_color,fill_opacity:b.fill_opacity,radius:b.radius,scroll_wheel:!0,zoom_control:!0,pan_control:!0,map_type_control:!0,scale_control:!0,street_view_control:!0,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",hidden_div:"",enable_new_style:!0},b);b.address=b.address?b.address:"",a(b.selector).css({width:b.width,height:b.height}),b.address=EE_GMAPS.parseToJsArray(b.address,!1),b.latlng=EE_GMAPS.parseToJsArray(b.latlng,!1);var c,d=EE_GMAPS.stringToLatLng(b.latlng),e=EE_GMAPS.setMarkerIcon(b.marker.icon),f=EE_GMAPS.setMarkerIcon(b.marker.icon_shadow),g=EE_GMAPS.setMarkerShape(b.marker.icon_shape);EE_GMAPS._map_[b.selector]=c=new GMaps({el:b.selector,lat:d.lat(),lng:d.lng(),width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},zoom:b.zoom,mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style}),EE_GMAPS.addCustomMapTypes(c,b.map_types),EE_GMAPS.addCustomMapType(c,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,c),EE_GMAPS.setTraffic(b.show_traffic,c),EE_GMAPS.setTransit(b.show_transit,c),EE_GMAPS.setBicycling(b.show_bicycling,c),EE_GMAPS.setWeather(b.show_weather,c),EE_GMAPS.setPaoramio(b.show_panoramio,c);
var h=c.drawCircle({strokeColor:b.stroke_color,strokeOpacity:b.stroke_opacity,strokeWeight:b.stroke_weight,fillColor:b.fill_color,fillOpacity:b.fill_opacity,radius:b.radius,lat:d.lat(),lng:d.lng()});if(b.fit_circle&&c.fitBounds(h.getBounds()),b.marker.show){var i=b.address?b.address:d.toString().replace("(","").replace(")","");if(""!=b.marker.custom_html)c.drawOverlay({lat:d.lat(),lng:d.lng(),content:EE_GMAPS.setInfowindowContent(b.marker.custom_html,{location:i},d),verticalAlign:b.marker.custom_html_vertical_align,horizontalAlign:b.marker.custom_html_vertical_align}),b.marker.custom_html_show_marker&&c.addMarker(EE_GMAPS.cleanObject({lat:d.lat(),lng:d.lng(),icon:e,shadow:f,shape:g,animation:b.marker.animation?google.maps.Animation.DROP:null,title:b.marker.show_title?i:null,label:void 0!=b.marker.label[0]?b.marker.label[0]:null}));else{var j=EE_GMAPS.setInfowindowContent(b.marker.html,{location:i},d);null===j&&(j=EE_GMAPS.setInfowindowContent(b.marker.html_default,{location:i},d)),c.addMarker(EE_GMAPS.cleanObject({lat:d.lat(),lng:d.lng(),icon:e,shadow:f,shape:g,animation:b.marker.animation?google.maps.Animation.DROP:null,title:b.marker.show_title?i:null,label:void 0!=b.marker.label[0]?b.marker.label[0]:null,infoWindow:{content:j}})),EE_GMAPS.addInfobox(b,c,c.markers[0],0),b.marker.open_by_default&&google.maps.event.trigger(c.markers[0],"click")}}a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){c.refresh()}),EE_GMAPS.addGoogleOverlay(c,b),b.focus_current_location&&EE_GMAPS.geolocate(function(a){c.setCenter(a.coords.latitude,a.coords.longitude)}),EE_GMAPS.saveMarkers(b.selector,c.markers)},EE_GMAPS.setRectangle=function(b){var b=a.extend({selector:"",address:"",latlng:"",map_type:"",map_types:[],width:"",height:"",zoom:"",stroke_color:b.stroke_color,stroke_opacity:b.stroke_opacity,stroke_weight:b.stroke_weight,fill_color:b.fill_color,fill_opacity:b.fill_opacity,scroll_wheel:!0,zoom_control:!0,pan_control:!0,map_type_control:!0,scale_control:!0,street_view_control:!0,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",hidden_div:"",enable_new_style:!0},b);a(b.selector).css({width:b.width,height:b.height}),b.address=EE_GMAPS.parseToJsArray(b.address),b.latlng=EE_GMAPS.parseToJsArray(b.latlng);var c;EE_GMAPS._map_[b.selector]=c=new GMaps({el:b.selector,lat:EE_GMAPS.def.lat,lng:EE_GMAPS.def.lng,width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},zoom:1,mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style}),EE_GMAPS.setTraffic(b.show_traffic,c),EE_GMAPS.setTransit(b.show_transit,c),EE_GMAPS.setBicycling(b.show_bicycling,c),EE_GMAPS.setWeather(b.show_weather,c),EE_GMAPS.setPaoramio(b.show_panoramio,c),EE_GMAPS.addCustomMapTypes(c,b.map_types),EE_GMAPS.addCustomMapType(c,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,c);var d=EE_GMAPS.arrayToLatLng(EE_GMAPS.cleanArray(b.latlng)),e=c.drawRectangle({bounds:[[d[0].lat(),d[0].lng()],[d[1].lat(),d[1].lng()]],strokeColor:b.stroke_color,strokeOpacity:b.stroke_opacity,strokeWeight:b.stroke_weight,fillColor:b.fill_color,fillOpacity:b.fill_opacity});c.fitBounds(e.getBounds()),a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){c.refresh()}),EE_GMAPS.addGoogleOverlay(c,b),b.focus_current_location&&EE_GMAPS.geolocate(function(a){c.setCenter(a.coords.latitude,a.coords.longitude)}),EE_GMAPS.saveMarkers(b.selector,c.markers)},EE_GMAPS.setPlaces=function(b){var b=a.extend({selector:"",address:"",latlng:"",map_type:"",map_types:[],width:"",height:"",marker:[],zoom:"",radius:b.radius,type:"search",scroll_wheel:!0,zoom_control:!0,pan_control:!0,map_type_control:!0,scale_control:!0,street_view_control:!0,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",hidden_div:"",enable_new_style:!0},b);a(b.selector).css({width:b.width,height:b.height}),b.address=EE_GMAPS.parseToJsArray(b.address,!1),b.latlng=EE_GMAPS.parseToJsArray(b.latlng,!1);var c,d=EE_GMAPS.stringToLatLng(b.latlng),e=EE_GMAPS.setMarkerIcon(b.marker.icon),f=EE_GMAPS.setMarkerIcon(b.marker.icon_shadow),g=EE_GMAPS.setMarkerShape(b.marker.icon_shape);EE_GMAPS._map_[b.selector]=c=new GMaps({el:b.selector,lat:d.lat(),lng:d.lng(),width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},zoom:b.zoom,mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style}),EE_GMAPS.addCustomMapTypes(c,b.map_types),EE_GMAPS.addCustomMapType(c,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,c),EE_GMAPS.setTraffic(b.show_traffic,c),EE_GMAPS.setTransit(b.show_transit,c),EE_GMAPS.setBicycling(b.show_bicycling,c),EE_GMAPS.setWeather(b.show_weather,c),EE_GMAPS.setPaoramio(b.show_panoramio,c);var h="search";"radar_search"==b.type&&(h="radarSearch");var i={location:d,radius:b.radius,types:b.search_types,keyword:b.search_keyword};i[h]=function(a,d){var h=[];if(d==google.maps.places.PlacesServiceStatus.OK)for(var i=0;i<a.length;i++){var j=a[i];h.push(j.geometry.location),c.addMarker(EE_GMAPS.cleanObject({lat:j.geometry.location.lat(),lng:j.geometry.location.lng(),title:j.name,icon:e,shadow:f,shape:g,animation:b.marker.animation?google.maps.Animation.DROP:null,infoWindow:{content:"<h2>"+j.name+"</h2><p>"+(j.vicinity?j.vicinity:j.formatted_address)+'</p><img src="'+j.icon+'"" width="100"/>'}}))}h.length>1?c.fitLatLngBounds(h):1==h.length&&c.setCenter(h[0].lat(),h[0].lng())};c.addLayer("places",i);a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){c.refresh()}),EE_GMAPS.addGoogleOverlay(c,b),b.focus_current_location&&EE_GMAPS.geolocate(function(a){c.setCenter(a.coords.latitude,a.coords.longitude)}),EE_GMAPS.saveMarkers(b.selector,c.markers)},EE_GMAPS.setKml=function(b){var b=a.extend({selector:"",kml_url:"",map_type:"",map_types:[],width:"",height:"",zoom:"",scroll_wheel:!0,zoom_control:!0,pan_control:!0,map_type_control:!0,scale_control:!0,street_view_control:!0,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",hidden_div:"",enable_new_style:!0},b);if(a(b.selector).css({width:b.width,height:b.height}),""!=b.latlng&&0!=b.zoom){b.address=EE_GMAPS.parseToJsArray(b.address),b.latlng=EE_GMAPS.parseToJsArray(b.latlng);var c=EE_GMAPS.stringToLatLng(b.latlng[0]),d=c.lat(),e=c.lng()}else var d=EE_GMAPS.def.lat,e=EE_GMAPS.def.lng;infoWindow=new google.maps.InfoWindow({});var f;EE_GMAPS._map_[b.selector]=f=new GMaps({el:b.selector,width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},lat:d,lng:e,zoom:b.zoom,mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style}),EE_GMAPS.addCustomMapTypes(f,b.map_types),EE_GMAPS.addCustomMapType(f,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,f),EE_GMAPS.setTraffic(b.show_traffic,f),EE_GMAPS.setTransit(b.show_transit,f),EE_GMAPS.setBicycling(b.show_bicycling,f),EE_GMAPS.setWeather(b.show_weather,f),EE_GMAPS.setPaoramio(b.show_panoramio,f),f.loadFromKML({url:b.kml_url,suppressInfoWindows:!0,preserveViewport:0!=b.zoom?!0:!1,events:{click:function(a){infoWindow.setContent(a.featureData.infoWindowHtml),infoWindow.setPosition(a.latLng),infoWindow.open(f.map)}}}),a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){f.refresh()}),EE_GMAPS.addGoogleOverlay(f,b),b.focus_current_location&&EE_GMAPS.geolocate(function(a){f.setCenter(a.coords.latitude,a.coords.longitude)}),EE_GMAPS.saveMarkers(b.selector,f.markers)},EE_GMAPS.setFusionTable=function(b){var b=a.extend({selector:"",table_id:"",address:"",latlng:"",styles:[],heatmap:!1,map_type:"",map_types:[],width:"",height:"",zoom:"",scroll_wheel:!0,zoom_control:!0,pan_control:!0,map_type_control:!0,scale_control:!0,street_view_control:!0,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",hidden_div:"",enable_new_style:!0},b);a(b.selector).css({width:b.width,height:b.height}),b.address=EE_GMAPS.parseToJsArray(b.address,!1),b.latlng=EE_GMAPS.parseToJsArray(b.latlng,!1),infoWindow=new google.maps.InfoWindow({});var c,d=EE_GMAPS.stringToLatLng(b.latlng);EE_GMAPS._map_[b.selector]=c=new GMaps({el:b.selector,lat:d.lat(),lng:d.lng(),width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},zoom:b.zoom,mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style}),EE_GMAPS.addCustomMapTypes(c,b.map_types),EE_GMAPS.addCustomMapType(c,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,c),EE_GMAPS.setTraffic(b.show_traffic,c),EE_GMAPS.setTransit(b.show_transit,c),EE_GMAPS.setBicycling(b.show_bicycling,c),EE_GMAPS.setWeather(b.show_weather,c),EE_GMAPS.setPaoramio(b.show_panoramio,c);c.loadFromFusionTables({query:{from:b.table_id},styles:b.styles,suppressInfoWindows:!0,events:{click:function(a){infoWindow.setContent(a.infoWindowHtml),infoWindow.setPosition(a.latLng),infoWindow.open(c.map)}},heatmap:{enabled:b.heatmap}});a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){c.refresh()}),EE_GMAPS.addGoogleOverlay(c,b),b.focus_current_location&&EE_GMAPS.geolocate(function(a){c.setCenter(a.coords.latitude,a.coords.longitude)}),EE_GMAPS.saveMarkers(b.selector,c.markers)},EE_GMAPS.setStreetViewPanorama=function(b){var b=a.extend({selector:"",address:"",latlng:"",width:"",height:"",address_control:!0,click_to_go:!0,disable_double_click_zoom:!1,enable_close_button:!0,image_date_control:!0,links_control:!0,pan_control:!0,scroll_wheel:!0,zoom_control:!0,checkaround:50,visible:!0,pov:{},hidden_div:"",enable_new_style:!0},b);a(b.selector).css({width:b.width,height:b.height}),b.address=EE_GMAPS.parseToJsArray(b.address),b.latlng=EE_GMAPS.parseToJsArray(b.latlng);var c,d=EE_GMAPS.arrayToLatLng(EE_GMAPS.cleanArray(b.latlng));EE_GMAPS._map_[b.selector]=c=GMaps.createPanorama({el:b.selector,lat:d[0].lat(),lng:d[0].lng(),addressControl:b.address_control,clickToGo:b.click_to_go,disableDoubleClickZoom:b.disable_double_click_zoom,enableCloseButton:b.enable_close_button,imageDateControl:b.image_date_control,linksControl:b.links_control,panControl:b.pan_control,pov:b.pov,scrollwheel:b.scroll_wheel,visible:b.visible,zoomControl:b.zoom_control,enableNewStyle:b.enable_new_style,checkaround:b.checkaround}),a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){c.refresh()})},EE_GMAPS.setEmptyMap=function(b){var b=a.extend({selector:"",width:"",latlng:"",address:"",zoom:"",map_type:"",map_types:[],height:"",marker:[],scroll_wheel:!0,zoom_control:!0,pan_control:!0,map_type_control:!0,scale_control:!0,street_view_control:!0,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",hidden_div:"",enable_new_style:!0},b);a(b.selector).css({width:b.width,height:b.height}),b.address=EE_GMAPS.parseToJsArray(b.address),b.latlng=EE_GMAPS.parseToJsArray(b.latlng);var c,d=EE_GMAPS.arrayToLatLng(EE_GMAPS.cleanArray(b.latlng));EE_GMAPS._map_[b.selector]=c=new GMaps({el:b.selector,zoom:1,lat:d[0].lat(),lng:d[0].lng(),width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style}),EE_GMAPS.addCustomMapTypes(c,b.map_types),EE_GMAPS.addCustomMapType(c,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,c),EE_GMAPS.setTraffic(b.show_traffic,c),EE_GMAPS.setTransit(b.show_transit,c),EE_GMAPS.setBicycling(b.show_bicycling,c),EE_GMAPS.setWeather(b.show_weather,c),EE_GMAPS.setPaoramio(b.show_panoramio,c),a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){c.refresh()}),d.length>1&&c.fitLatLngBounds(d),EE_GMAPS.addGoogleOverlay(c,b),b.focus_current_location&&EE_GMAPS.geolocate(function(a){c.setCenter(a.coords.latitude,a.coords.longitude)}),EE_GMAPS.saveMarkers(b.selector,c.markers)},EE_GMAPS.setMap=function(b){var b=a.extend({selector:"",width:"",zoom:"",map_type:"",map_types:[],height:"",marker:[],scroll_wheel:!0,zoom_control:!0,pan_control:!0,map_type_control:!0,scale_control:!0,street_view_control:!0,styled_map:"",show_traffic:!1,show_transit:!1,show_bicycling:!1,show_weather:!1,show_panoramio:!1,panoramio_tag:"",hidden_div:"",enable_new_style:!0,marker_cluster:!1},b);a(b.selector).css({width:b.width,height:b.height});var c={el:b.selector,zoom:1,lat:EE_GMAPS.def.lat,lng:EE_GMAPS.def.lng,width:b.width,height:b.height,mapTypeControlOptions:{mapTypeIds:b.map_types},mapType:b.map_type,scrollwheel:b.scroll_wheel,zoomControl:b.zoom_control,zoomControlOptions:{style:google.maps.ZoomControlStyle[b.zoom_control_style],position:google.maps.ControlPosition[b.zoom_control_position]},panControl:b.pan_control,panControlOptions:{position:google.maps.ControlPosition[b.pan_control_position]},mapTypeControl:b.map_type_control,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[b.map_type_control_style],position:google.maps.ControlPosition[b.map_type_control_position]},scaleControl:b.scale_control,streetViewControl:b.street_view_control,streetViewControlOptions:{position:google.maps.ControlPosition[b.street_view_control_position]},enableNewStyle:b.enable_new_style};b.marker_cluster&&(c.markerClusterer=function(a){return new MarkerClusterer(a,[],{gridSize:60,maxZoom:10,styles:b.marker_cluster_style,imagePath:EE_GMAPS.theme_path+"images/cluster/m"})});var d;EE_GMAPS._map_[b.selector]=d=new GMaps(c),EE_GMAPS.addCustomMapTypes(d,b.map_types),EE_GMAPS.addCustomMapType(d,b.map_type),EE_GMAPS.setStyledMap(b.styled_map,d),EE_GMAPS.setTraffic(b.show_traffic,d),EE_GMAPS.setTransit(b.show_transit,d),EE_GMAPS.setBicycling(b.show_bicycling,d),EE_GMAPS.setWeather(b.show_weather,d),EE_GMAPS.setPaoramio(b.show_panoramio,d),a(b.hidden_div).length>0&&a(b.hidden_div).on("show",function(){d.refresh()}),EE_GMAPS.addGoogleOverlay(d,b),b.focus_current_location&&EE_GMAPS.geolocate(function(a){d.setCenter(a.coords.latitude,a.coords.longitude)}),EE_GMAPS.runAll()},EE_GMAPS.setStaticMap=function(b){var b=a.extend({selector:"",latlng:"",map_type:"",width:"",height:"",zoom:"",marker:!0,polygon:!1,stroke_color:"",stroke_opacity:"",stroke_weight:"",fill_color:"",fill_opacity:""},b),c=EE_GMAPS.arrayToLatLng(EE_GMAPS.cleanArray(b.latlng)),d=[],e=[],f=new google.maps.LatLngBounds;a.each(c,function(a,c){f.extend(c),d.push([c.lat(),c.lng()]),b.marker.show&&e.push({lat:c.lat(),lng:c.lng()})});var g=f.getCenter();if((""==b.width||b.height)&&(b.width="630",b.height="300"),b.polygon)var h=GMaps.staticMapURL({size:[b.width,b.height],lat:g[0],lng:g[1],zoom:EE_GMAPS.getZoom(b.width,c),maptype:b.map_type,polyline:{path:d,strokeColor:b.stroke_color,strokeOpacity:b.stroke_opacity,strokeWeight:b.stroke_weight,fillColor:b.fill_color},markers:e});else var h=GMaps.staticMapURL({size:[b.width,b.height],lat:g.lat(),lng:g.lng(),zoom:b.zoom,maptype:b.map_type,markers:e});a(b.selector).html('<img src="'+h+'" alt="Gmaps map from '+b.address+'" title="Static Gmaps" width="'+b.width+'" height="'+b.height+'" />')},EE_GMAPS.addGoogleOverlay=function(b,c,d){var e,f;if(void 0!=c.latlng&&void 0!=c.latlng[0]&&(e=c.latlng[0].split(","),f=new google.maps.LatLng(e[0],e[1]),c.overlay_html=c.overlay_html.gmaps_replaceAll("[route_to_url]",EE_GMAPS.setInfowindowUrl(f,"route_to")),c.overlay_html=c.overlay_html.gmaps_replaceAll("[route_from_url]",EE_GMAPS.setInfowindowUrl(f,"route_from")),c.overlay_html=c.overlay_html.gmaps_replaceAll("[map_url]",EE_GMAPS.setInfowindowUrl(f,"map"))),""!=c.overlay_html){if(d&&0==a(c.selector).find("#custom_gmaps_overlay").length){var g="margin: 10px; padding: 1px; -webkit-box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; background-color: white;";a(c.selector).find(".gm-style").append('<div class="google-like-overlay-position" style="position: absolute; '+c.overlay_position+': 0px; top: 0px;"><div style="'+g+'" id="custom_gmaps_overlay"><div style="padding:5px;" class="place-card google-like-overlay-content place-card-large">'+c.overlay_html+"</div></div></div>")}b.on("tilesloaded",function(){if(0==a(c.selector).find("#custom_gmaps_overlay").length){var b="margin: 10px; padding: 1px; -webkit-box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; background-color: white;";a(c.selector).find(".gm-style").append('<div class="google-like-overlay-position" style="position: absolute; '+c.overlay_position+': 0px; top: 0px;"><div style="'+b+'" id="custom_gmaps_overlay"><div style="padding:5px;" class="place-card google-like-overlay-content place-card-large">'+c.overlay_html+"</div></div></div>")}})}},EE_GMAPS.removeGoogleOverlay=function(b){a(b).find(".google-like-overlay-position").remove()},EE_GMAPS.updateGoogleOverlay=function(b,c){0==a(c.selector).find(".google-like-overlay-position").length&&EE_GMAPS.addGoogleOverlay(b,c,!0),void 0!=c.overlay_html&&(""==c.overlay_html?EE_GMAPS.removeGoogleOverlay(c.selector):a(c.selector).find(".google-like-overlay-content").html(c.overlay_html)),void 0!=c.overlay_position&&(a(c.selector).find(".google-like-overlay-position").css("left","").css("right",""),a(c.selector).find(".google-like-overlay-position").css(c.overlay_position,"0px"))},EE_GMAPS.addCustomMapTypes=function(b,c){a.each(c,function(a,c){switch(c){case"osm":b.addMapType("osm",{getTileUrl:function(a,b){return"http://tile.openstreetmap.org/"+b+"/"+a.x+"/"+a.y+".png"},tileSize:new google.maps.Size(256,256),name:"OpenStreetMap",maxZoom:18});break;case"cloudmade":b.addMapType("cloudmade",{getTileUrl:function(a,b){return"http://b.tile.cloudmade.com/8ee2a50541944fb9bcedded5165f09d9/1/256/"+b+"/"+a.x+"/"+a.y+".png"},tileSize:new google.maps.Size(256,256),name:"CloudMade",maxZoom:18});break;case"toner":b.map.mapTypes.set("toner",new google.maps.StamenMapType("toner"));break;case"watercolor":b.map.mapTypes.set("watercolor",new google.maps.StamenMapType("watercolor"))}})},EE_GMAPS.addCustomMapType=function(a,b){switch(b){case"osm":a.setMapTypeId("osm");break;case"cloudmade":a.setMapTypeId("cloudmade");break;case"toner":a.setMapTypeId("toner");break;case"watercolor":a.setMapTypeId("watercolor")}},EE_GMAPS.latLongAddress=function(b,c){var d=new Array,e=new Array;a.each(b,function(a,f){GMaps.geocode({address:f,callback:function(f,g){"OK"==g&&(d[a]=f[0].geometry.location,e[a]=f[0]),a==b.length-1&&c&&"function"==typeof c&&setTimeout(function(){c(d,e)},200)}})})},EE_GMAPS.flatten_polygon_result=function(a){var b=[];return a.getArray().forEach(function(a){b.push(a.getArray())}),_.flatten(b)},EE_GMAPS.getCenterLatLng=function(b){var c=[],d=[];a.each(b,function(a,b){c.push(b.lat()),d.push(b.lng())});var e=c.gmaps_min()+(c.gmaps_max()-c.gmaps_min())/2,f=d.gmaps_min()+(d.gmaps_max()-d.gmaps_min())/2;return[e,f]},EE_GMAPS.setStyledMap=function(a,b){Object.keys(a).length>0&&(b.addStyle({styledMapName:"Styled Map",styles:a,mapTypeId:"map_style"}),b.setStyle("map_style"))},EE_GMAPS.setTraffic=function(a,b){a&&b.addLayer("traffic")},EE_GMAPS.setTransit=function(a,b){a&&b.addLayer("transit")},EE_GMAPS.setBicycling=function(a,b){a&&b.addLayer("bicycling")},EE_GMAPS.setWeather=function(a,b){a&&(b.addLayer("clouds"),b.addLayer("weather"))},EE_GMAPS.setPaoramio=function(a,b,c){a&&b.addLayer("panoramio",{filter:c.tag})},EE_GMAPS.getZoom=function(b,c){b/=1.74;var d=[],e=[];a.each(c,function(a,b){d.push(b.lat()),e.push(b.lng())});var f=6371*Math.acos(Math.sin(d.gmaps_min()/57.2958)*Math.sin(d.gmaps_max()/57.2958)+Math.cos(d.gmaps_min()/57.2958)*Math.cos(d.gmaps_max()/57.2958)*Math.cos(e.gmaps_max()/57.2958-e.gmaps_min()/57.2958)),g=Math.floor(8-Math.log(1.6446*f/Math.sqrt(2*b*b))/Math.log(2))-1;return g},EE_GMAPS.createWaypoints=function(b){var c=[];return a.each(b,function(a,b){c.push({location:b,stopover:!1})}),c},EE_GMAPS.createlatLngArray=function(b){var c=[];return a.each(b,function(a,b){c.push([b.lat(),b.lng()])}),c},EE_GMAPS.reParseLatLngArray=function(b){var c=[];return a.each(b,function(a,b){c.push([parseFloat(b[0]),parseFloat(b[1])])}),c},EE_GMAPS.arrayToLatLng=function(b){var c=[];return a.each(b,function(b,d){"string"==typeof d&&(d=d.split(",")),c.push(new google.maps.LatLng(parseFloat(a.trim(d[0])),parseFloat(a.trim(d[1]))))}),c},EE_GMAPS.stringToLatLng=function(b){var c=b.split(","),d=new google.maps.LatLng(parseFloat(a.trim(c[0])),parseFloat(a.trim(c[1])));return d},EE_GMAPS.cleanArray=function(b){return a.grep(b,function(a){return a})},EE_GMAPS.parseToJsArray=function(a,b){return a=base64_decode(a),"string"==typeof a?"[]"==a?"":(a=decodeURIComponent(escape(a)),b||void 0==b?a.split("|"):a):""},EE_GMAPS.setMarkerIcon=function(a,b,c){var d,e,f,g,h;return"object"==typeof a.url&&a.url.length>0?(e=void 0!=a.url[c]?a.url[c]:b.url,f=void 0!=a.size[c]?a.size[c]:b.size,f=f.split(","),g=void 0!=a.origin[c]?a.origin[c]:b.origin,g=g.split(","),h=void 0!=a.anchor[c]?a.anchor[c]:b.anchor,h=h.split(","),d={},""!=e?(d.url=e,""!=f&&(d.size=new google.maps.Size(parseInt(f[0]),parseInt(f[1]))),""!=g&&(d.origin=new google.maps.Point(parseInt(g[0]),parseInt(g[1]))),""!=h&&(d.anchor=new google.maps.Point(parseInt(h[0]),parseInt(h[1])))):d=""):void 0==b?(e=a.url,f=a.size,f=f.split(","),g=a.origin,g=g.split(","),h=a.anchor,h=h.split(","),d={},""!=e?(d.url=e,""!=f&&(d.size=new google.maps.Size(parseInt(f[0]),parseInt(f[1]))),""!=g&&(d.origin=new google.maps.Point(parseInt(g[0]),parseInt(g[1]))),""!=h&&(d.anchor=new google.maps.Point(parseInt(h[0]),parseInt(h[1])))):d=""):""!=b.url?(e=b.url,f=b.size,f=f.split(","),g=b.origin,g=g.split(","),h=b.anchor,h=h.split(","),d={},""!=e?(d.url=e,""!=f&&(d.size=new google.maps.Size(parseInt(f[0]),parseInt(f[1]))),""!=g&&(d.origin=new google.maps.Point(parseInt(g[0]),parseInt(g[1]))),""!=h&&(d.anchor=new google.maps.Point(parseInt(h[0]),parseInt(h[1])))):d=""):d="",d},EE_GMAPS.setMarkerShape=function(a,b,c){var d,e,f;return"object"==typeof a.coord&&a.coord.length>0?(e=void 0!=a.coord[c]?a.coord[c]:b.coord,f=void 0!=a.type[c]?a.type[c]:b.type,d={},""!=f&&(d.type=f),""!=e?d.coord=e.split(","):d=""):void 0==b?(e=a.coord,f=a.type,d={},""!=f&&(d.type=f),""!=e?d.coord=e.split(","):d=""):""!=b.url?(e=b.coord,f=b.type,d={},""!=f&&(d.type=f),""!=e?d.coord=e.split(","):d=""):d="",d},EE_GMAPS.setInfowindowContent=function(b,c,d){var b=b||"";return(void 0!=b||b)&&(a.each(c,function(a,c){b=b.gmaps_replaceAll("["+a+"]",c)}),b=b.gmaps_replaceAll("[route_to_url]",EE_GMAPS.setInfowindowUrl(d,"route_to")),b=b.gmaps_replaceAll("[route_from_url]",EE_GMAPS.setInfowindowUrl(d,"route_from")),b=b.gmaps_replaceAll("[map_url]",EE_GMAPS.setInfowindowUrl(d,"map"))),b=""!=b?b:null},EE_GMAPS.cleanObject=function(a){var a=a||{};return a=gmaps_remove_empty_values(a)},EE_GMAPS.addInfobox=function(b,c,d,e){if(""!==b.marker.infobox.content){var f=b.marker.infobox.content.split("|"),g=b.address[e]?b.address[e]:d.position.toString().replace("(","").replace(")",""),h=b.selector.replace("#","");f=EE_GMAPS.setInfowindowContent(f[e],{location:g},d.position),d.infobox_options={boxClass:b.marker.infobox.box_class,maxWidth:b.marker.infobox.max_width,zIndex:b.marker.infobox.z_index,content:f,pixelOffset:new google.maps.Size(parseInt(b.marker.infobox.pixel_offset.width),parseInt(b.marker.infobox.pixel_offset.height)),boxStyle:b.marker.infobox.box_style,closeBoxMargin:"10px 2px 2px 2px",closeBoxURL:"http://www.google.com/intl/en_us/mapfiles/close.gif"},d.infoBox=new InfoBox(d.infobox_options),EE_GMAPS.saveMarker(h,d),d=EE_GMAPS.searchMarker(h,e),google.maps.event.addListener(d,"click",function(){a.each(EE_GMAPS.markers[h],function(a,b){b.marker.infoBox.close()}),d.infoBox.open(c.map,d)})}},EE_GMAPS.setInfowindowUrl=function(a,b){var c="";if(void 0!=a)switch(b){case"route_to":c="https://maps.google.com/maps?daddr="+a.lat()+","+a.lng();break;case"route_from":c="https://maps.google.com/maps?saddr="+a.lat()+","+a.lng();break;default:case"map":c="https://maps.google.com/maps?q="+a.lat()+","+a.lng()}return c},EE_GMAPS.saveMarkers=function(b,c,d,e){b=b.replace("#","");var f=[],g=[];return c.length>0&&(a.each(c,function(a,b){b.markerNumber=a,b.markerUUID=createUUID(),f.push(b.markerNumber),g[a]=[],g[a].marker=b,g[a].keys=[a,b.markerUUID,b.getPosition().lat()+","+b.getPosition().lng()],EE_GMAPS.latlngs.push(b.position.lat()+","+b.position.lng())}),"object"==typeof d&&a.each(d,function(b,c){void 0!=g[b]&&void 0!=g[b].keys&&(c=a.trim(c),g[b].keys.push(c),g[b].keys.push(c.toLowerCase()),g[b].keys.push(c.gmaps_replaceAll(" ","_")),g[b].keys.push(c.gmaps_replaceAll(" ","_").toLowerCase()),g[b].keys.push(c.gmaps_replaceAll(" ","-")),g[b].keys.push(c.gmaps_replaceAll(" ","-").toLowerCase()),g[b].keys=_.uniq(g[b].keys))}),"object"==typeof e&&a.each(e,function(b,c){void 0!=g[b]&&void 0!=g[b].keys&&(c=a.trim(c),g[b].keys.push(c),g[b].keys.push(c.toLowerCase()),g[b].keys.push(c.gmaps_replaceAll(" ","_")),g[b].keys.push(c.gmaps_replaceAll(" ","_").toLowerCase()),g[b].keys.push(c.gmaps_replaceAll(" ","-")),g[b].keys.push(c.gmaps_replaceAll(" ","-").toLowerCase()),g[b].keys=_.uniq(g[b].keys))}),EE_GMAPS.markers[b]=g),EE_GMAPS.runAll(),1==f.length?f[0]:f},EE_GMAPS.saveMarker=function(a,b){void 0==EE_GMAPS.markers[a]&&(EE_GMAPS.markers[a]=[]);var c=EE_GMAPS.markers[a].length;return b.markerNumber=c,b.markerUUID=createUUID(),EE_GMAPS.markers[a][c]=[],EE_GMAPS.markers[a][c].marker=b,EE_GMAPS.markers[a][c].keys=[c,b.markerUUID],EE_GMAPS.latlngs.push(b.position.lat()+","+b.position.lng()),b.markerNumber},EE_GMAPS.searchMarker=function(b,c){var d;return void 0!=EE_GMAPS.markers[b]&&a.each(EE_GMAPS.markers[b],function(a,e){void 0!=e.keys&&-1!=jQuery.inArray(c,e.keys)&&(d=EE_GMAPS.markers[b][a].marker)}),d},EE_GMAPS.removeMarker=function(b,c){var d;a.each(EE_GMAPS.markers[b],function(a,b){void 0!=b.keys&&void 0==d&&-1!=jQuery.inArray(c,b.keys)&&(d=a)}),void 0!=d&&EE_GMAPS.markers[b].gmaps_remove(d),a.each(EE_GMAPS.latlngs,function(a){a==d&&EE_GMAPS.latlngs.gmaps_remove(a)}),a.each(EE_GMAPS.markers[b],function(a,b){b.marker.markerNumber=a,b.keys[0]=a})},EE_GMAPS.updateMarkerCache=function(b,c){if(a.isArray(c)){var d=[];a.each(c,function(a,c){var e=EE_GMAPS.searchMarker(b,c);if(void 0!=e){var f=e.markerNumber;e.markerNumber=a,EE_GMAPS.markers[b][f].keys[0]=a,d.push(EE_GMAPS.markers[b][f])}}),EE_GMAPS.markers[b]=d}},EE_GMAPS.saveArtOverlay=function(a,b,c){var d=c+"s";if(void 0!=c&&void 0!=EE_GMAPS[d]&&void 0!=b){void 0==EE_GMAPS[d][a]&&(EE_GMAPS[d][a]=[]);var e=EE_GMAPS[d][a].length;return b.objectNumber=e,b.objectUUID=createUUID(),EE_GMAPS[d][a][e]=[],EE_GMAPS[d][a][e].object=b,EE_GMAPS[d][a][e].keys=[e,b.objectUUID],b.objectNumber}},EE_GMAPS.searchArtOverlay=function(b,c,d){var e=d+"s";if(void 0!=d&&void 0!=EE_GMAPS[e]){var f;return a.each(EE_GMAPS[e][b],function(a,d){void 0!=d.keys&&-1!=jQuery.inArray(c,d.keys)&&(f=EE_GMAPS[e][b][a].object)}),f}},EE_GMAPS.removeArtOverlay=function(b,c,d){var e,f=d+"s";void 0!=d&&void 0!=EE_GMAPS[f]&&(a.each(EE_GMAPS[f][b],function(a,b){void 0!=b.keys&&"undefined"==typeof e&&-1!=jQuery.inArray(c,b.keys)&&(e=a)}),void 0!=e&&EE_GMAPS[f][b].gmaps_remove(e),a.each(EE_GMAPS[f][b],function(a,b){b.object.objectNumber=a,b.keys[0]=a}))},EE_GMAPS.updateArtOverlayCache=function(b,c,d){var e=d+"s";if(void 0!=d&&void 0!=EE_GMAPS[e]&&a.isArray(c)){var f=[];a.each(c,function(a,c){var g=EE_GMAPS.searchArtOverlay(b,c,d);if(void 0!=g){var h=g.objectNumber;g.objectNumber=a,EE_GMAPS[e][b][h].keys[0]=a,f.push(EE_GMAPS[e][b][h])}}),EE_GMAPS[e][b]=f}},EE_GMAPS.getMap=function(a){return void 0!=EE_GMAPS._map_["#"+a]?EE_GMAPS._map_["#"+a]:!1},EE_GMAPS.fitMap=function(a){void 0!=EE_GMAPS.markers[a]},EE_GMAPS.geolocate=function(a){GMaps.geolocate({success:function(b){"function"==typeof a&&a(b)},error:function(a){console.log("Geolocation failed: "+a.message)},not_supported:function(){console.log("Your browser does not support geolocation")}})},EE_GMAPS.api=EE_GMAPS.triggerEvent=function(b,c){if(""==b)return!1;c=a.extend({mapID:"",key:""},c);var d,e,f;switch(""!=c.mapID&&(d=c.mapID,delete c.mapID,e=EE_GMAPS.getMap(d)),b){case"markerClick":f=EE_GMAPS.searchMarker(d,c.key),void 0!=f&&(google.maps.event.trigger(f,"click"),e&&e.setCenter(f.position.lat(),f.position.lng()));break;case"markerClickCallback":f=EE_GMAPS.searchMarker(d,c.key),void 0!=f&&"function"==typeof c.callback&&google.maps.event.addListener(f,"click",function(){c.marker=f,c.map=e,c.callback(e)});break;case"infowindowClose":f=EE_GMAPS.searchMarker(d,c.key),void 0!=f&&f.infoWindow.close();break;case"getAllMarkers":return EE_GMAPS.markers;case"getMarkers":return EE_GMAPS.markers[d];case"refresh":e&&e.refresh();break;case"refreshAll":var g=_.values(EE_GMAPS._map_);_.each(g,function(a){a.refresh(),"boolean"==typeof c.center&&c.center===!0&&a.fitZoom()
});break;case"setZoom":e&&e.setZoom(c.zoomLevel);break;case"fitZoom":e&&(e.fitZoom(),void 0!=c.zoomLevel&&e.setZoom(c.zoomLevel));break;case"center":e&&e.setCenter(c.lat,c.lng);break;case"addMarker":if(e){var h=[];if(void 0!=c.multi&&_.isArray(c.multi))h=[],a.each(c.multi,function(a,b){var f=e.addMarker(b);h.push(EE_GMAPS.saveMarker(d,f)),a+1==c.multi.length&&(c.fitTheMap&&e.fitZoom(),c.callback&&"function"==typeof c.callback&&setTimeout(function(){c.callback()},200))});else{var i=e.addMarker(c);h=EE_GMAPS.saveMarker(d,i),c.fitTheMap&&e.fitZoom(),c.callback&&"function"==typeof c.callback&&setTimeout(function(){c.callback()},200)}return h}break;case"removeMarker":f=EE_GMAPS.searchMarker(d,c.key),e&&void 0!=f&&(e.removeMarker(f),EE_GMAPS.removeMarker(d,c.key));break;case"hideMarker":f=EE_GMAPS.searchMarker(d,c.key),e&&void 0!=f&&f.setVisible(!1);break;case"showMarker":f=EE_GMAPS.searchMarker(d,c.key),e&&void 0!=f&&f.setVisible(!0);break;case"updateMarker":f=EE_GMAPS.searchMarker(d,c.key),e&&void 0!=f&&(delete c.key,void 0!=c.infoWindow&&void 0!=c.infoWindow.content&&(void 0!=f.infoWindow&&f.infoWindow.setContent(c.infoWindow.content),delete c.infoWindow),f.setOptions(c),e.refresh());break;case"getMarker":if(f=EE_GMAPS.searchMarker(d,c.key),e&&void 0!=f)return f;break;case"removeMarkers":e&&(e.removeMarkers(),EE_GMAPS.markers=[]);break;case"hideMarkers":e&&void 0!=EE_GMAPS.markers[d]&&a.each(EE_GMAPS.markers[d],function(a,b){b.marker.setVisible(!1)});break;case"showMarkers":e&&void 0!=EE_GMAPS.markers[d]&&a.each(EE_GMAPS.markers[d],function(a,b){b.marker.setVisible(!0)});break;case"contextMenu":e&&e.setContextMenu(c);break;case"getMap":if(e)return e;break;case"addLayer":e&&void 0!=c.layerName&&e.addLayer(c.layerName);break;case"removeLayer":e&&void 0!=c.layerName&&e.removeLayer(c.layerName);break;case"addCircle":if(e){if(void 0!=c.multi&&_.isArray(c.multi)){var h=[];return a.each(c.multi,function(a,b){var c=e.drawCircle(b);h.push(EE_GMAPS.saveArtOverlay(d,c,"circle"))}),h}var j=e.drawCircle(c);return EE_GMAPS.saveArtOverlay(d,j,"circle")}break;case"getCircle":if(circle=EE_GMAPS.searchArtOverlay(d,c.key,"circle"),e&&void 0!=circle)return circle;break;case"updateCircle":circle=EE_GMAPS.searchArtOverlay(d,c.key,"circle"),e&&void 0!=circle&&(delete c.key,circle.setOptions(c),e.refresh());break;case"removeCircle":circle=EE_GMAPS.searchArtOverlay(d,c.key,"circle"),e&&void 0!=circle&&(circle.setMap(null),EE_GMAPS.removeArtOverlay(d,c.key,"circle"));break;case"addRectangle":if(e){if(void 0!=c.multi&&_.isArray(c.multi)){var h=[];return a.each(c.multi,function(a,b){var c=e.drawRectangle(b);h.push(EE_GMAPS.saveArtOverlay(d,c,"rectangle"))}),h}var k=e.drawRectangle(c);return EE_GMAPS.saveArtOverlay(d,k,"rectangle")}break;case"getRectangle":if(rectangle=EE_GMAPS.searchArtOverlay(d,c.key,"rectangle"),e&&void 0!=rectangle)return rectangle;break;case"updateRectangle":rectangle=EE_GMAPS.searchArtOverlay(d,c.key,"rectangle"),e&&void 0!=rectangle&&(delete c.key,rectangle.setOptions(c),e.refresh());break;case"removeRectangle":rectangle=EE_GMAPS.searchArtOverlay(d,c.key,"rectangle"),e&&void 0!=rectangle&&(rectangle.setMap(null),EE_GMAPS.removeArtOverlay(d,c.key,"rectangle"));break;case"addPolygon":if(e){if(void 0!=c.multi&&_.isArray(c.multi)){var h=[];return a.each(c.multi,function(a,b){var c=e.drawPolygon(b);h.push(EE_GMAPS.saveArtOverlay(d,c,"polygon"))}),h}var l=e.drawPolygon(c);return EE_GMAPS.saveArtOverlay(d,l,"polygon")}break;case"getPolygon":if(polygon=EE_GMAPS.searchArtOverlay(d,c.key,"polygon"),e&&void 0!=polygon)return polygon;break;case"updatePolygon":polygon=EE_GMAPS.searchArtOverlay(d,c.key,"polygon"),e&&void 0!=polygon&&(delete c.key,polygon.setOptions(c),e.refresh());break;case"removePolygon":polygon=EE_GMAPS.searchArtOverlay(d,c.key,"polygon"),e&&void 0!=polygon&&(e.removePolygon(polygon),EE_GMAPS.removeArtOverlay(d,c.key,"polygon"));break;case"addPolyline":if(e){if(void 0!=c.multi&&_.isArray(c.multi)){var h=[];return a.each(c.multi,function(a,b){var c=e.drawPolyline(b);h.push(EE_GMAPS.saveArtOverlay(d,c,"polyline"))}),h}var m=e.drawPolyline(c);return EE_GMAPS.saveArtOverlay(d,m,"polyline")}break;case"getPolyline":if(polyline=EE_GMAPS.searchArtOverlay(d,c.key,"polyline"),e&&void 0!=polyline)return polyline;break;case"updatePolyline":polyline=EE_GMAPS.searchArtOverlay(d,c.key,"polyline"),e&&void 0!=polyline&&(delete c.key,polyline.setOptions(c),e.refresh());break;case"removePolyline":polyline=EE_GMAPS.searchArtOverlay(d,c.key,"polyline"),e&&void 0!=polyline&&(e.removePolyline(polyline),EE_GMAPS.removeArtOverlay(d,c.key,"polyline"));break;case"updateMap":e&&(void 0!=c.setMapTypeId&&(e.setMapTypeId(google.maps.MapTypeId[c.setMapTypeId.toUpperCase()]),delete c.setMapTypeId),e.setOptions(c));break;case"fitMap":break;case"addGoogleOverlay":if(e){var n={overlay_html:c.html||"",selector:"#"+d.replace("#",""),overlay_position:c.position||"left"};EE_GMAPS.addGoogleOverlay(e,n,!0)}break;case"updateGoogleOverlay":if(e){var n={overlay_html:c.html||"",selector:"#"+d.replace("#",""),overlay_position:c.position||"left"};EE_GMAPS.updateGoogleOverlay(e,n,!0)}break;case"removeGoogleOverlay":e&&EE_GMAPS.removeGoogleOverlay("#"+d.replace("#",""));break;case"geolocation":GMaps.geolocate({success:function(a){"function"==typeof c.callback&&c.callback(a)},error:function(a){console.log("Geolocation failed: "+a.message)},not_supported:function(){console.log("Your browser does not support geolocation")}});break;case"geocode":var o=createUUID();void 0!=c.latlng&&a.post(EE_GMAPS.api_path+"&type=latlng",{input:c.latlng},function(a){c.callback&&"function"==typeof c.callback&&c.callback(a,"latlng",o)}),void 0!=c.address&&a.post(EE_GMAPS.api_path+"&type=address",{input:c.address},function(a){c.callback&&"function"==typeof c.callback&&c.callback(a,"address",o)}),void 0!=c.ip&&a.post(EE_GMAPS.api_path+"&type=ip",{input:c.ip},function(a){c.callback&&"function"==typeof c.callback&&c.callback(a,"ip",o)})}},a.each(["show","toggle","toggleClass","addClass","removeClass"],function(){var b=a.fn[this];a.fn[this]=function(){var c=this.find(":hidden").add(this.filter(":hidden")),d=b.apply(this,arguments);return c.filter(":visible").each(function(){a(this).triggerHandler("show")}),d}})}(jQuery),Object.keys=Object.keys||function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}(),google.maps.Polyline.prototype.getBounds||(google.maps.Polyline.prototype.getBounds=function(){for(var a=new google.maps.LatLngBounds,b=this.getPath(),c=0;c<b.getLength();c++)a.extend(b.getAt(c));return a}),String.prototype.gmaps_replaceAll||(String.prototype.gmaps_replaceAll=function(a,b,c){var d,e=this+"",f=-1;if("string"==typeof a){if(!c)return this.split(a).join(b);for(d=a.toLowerCase();-1!==(f=e.toLowerCase().indexOf(a,f>=0?f+b.length:0));)e=e.substring(0,f)+b+e.substring(f+a.length)}return e}),Array.prototype.gmaps_remove||(Array.prototype.gmaps_remove=function(a,b){if("undefined"!=typeof this.slice){var c=this.slice((b||a)+1||this.length);return this.length=0>a?this.length+a:a,this.push.apply(this,c)}}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a){var b=function(a){return"undefined"==typeof a};a.expr[":"].data=function(c,d,e){if(b(c)||b(e))return!1;var f=e[3];if(!f)return!1;var g=f.split("="),h=g[0].charAt(g[0].length-1);"^"==h||"$"==h||"!"==h||"*"==h||"~"==h?g[0]=g[0].substring(0,g[0].length-1):h="=";var j=g[0],k=j.split("."),l=a(c).data(k[0]);if(b(l))return!1;if(k[1])for(i=1,x=k.length;i<x;i++)if(l=l[k[i]],b(l))return!1;if(!g[1])return!0;var m=l+"";switch(h){case"=":return m==g[1];case"!":return m!=g[1];case"^":return 0===m.indexOf(g[1]);case"$":return m.substr(m.length-g[1].length)===g[1];case"*":return-1!==m.indexOf(g[1]);case"~":return exp=g[1].substr(1,g[1].lastIndexOf("/")-1),modif=g[1].substr(g[1].lastIndexOf("/")+1),re=new RegExp(exp,modif),re.test(m);default:return!1}}}(jQuery),Array.prototype.gmaps_clone||(Array.prototype.gmaps_clone=function(){return"undefined"!=typeof this.slice?this.slice(0):void 0}),Array.prototype.gmaps_max||(Array.prototype.gmaps_max=function(){return Math.max.apply(null,this)}),Array.prototype.gmaps_min||(Array.prototype.gmaps_min=function(){return Math.min.apply(null,this)}),String.prototype.gmaps_bool=function(){return/^true$/i.test(this)};
//# sourceMappingURL=gmaps.min.map